{"id":"vision\/image","type":"class","title":"Google\\Cloud\\Vision\\Image","name":"Image","description":"<p>Represents an image to be annotated using\n<a href=\"https:\/\/cloud.google.com\/vision\">Google Cloud Vision<\/a>.<\/p>\n<p>Please review <a href=\"https:\/\/cloud.google.com\/vision\/docs\/pricing\">Pricing<\/a>\nbefore use, as a separate charge is incurred for each feature performed\non an image. When practical, caching of results is certainly recommended.<\/p>\n<p>The Cloud Vision API supports a variety of image file formats, including\nJPEG, PNG8, PNG24, Animated GIF (first frame only), and RAW.<\/p>\n<p>Cloud Vision sets upper limits on file size as well as on the total\ncombined size of all images in a request. Reducing your file size can\nsignificantly improve throughput; however, be careful not to reduce image\nquality in the process. See\n<a href=\"https:\/\/cloud.google.com\/vision\/docs\/image-best-practices#image_sizing\">Best Practices - Image Sizing<\/a>\nfor current file size limits.<\/p>\n<p>Example:<\/p>\n<pre><code>use Google\\Cloud\\ServiceBuilder;\n\n$cloud = new ServiceBuilder();\n$vision = $cloud-&gt;vision();\n\n$imageResource = fopen(__DIR__ .'\/assets\/family-photo.jpg', 'r');\n$image = $vision-&gt;image($imageResource, [\n    'FACE_DETECTION'\n]);<\/code><\/pre>","resources":[{"title":"Best Practices","link":"https:\/\/cloud.google.com\/vision\/docs\/image-best-practices"},{"title":"Pricing","link":"https:\/\/cloud.google.com\/vision\/docs\/pricing"}],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"\/src\/Vision\/Image.php#L195","description":"<p>Create an image with all required configuration.<\/p>","examples":[{"caption":"","code":"use Google\\Cloud\\Vision\\Image;\n\n$imageResource = fopen(__DIR__ .'\/assets\/family-photo.jpg', 'r');\n$image = new Image($imageResource, [\n    'FACE_DETECTION'\n]);"},{"caption":"<p>Image data can be given as a string<\/p>","code":"\n$fileContents = file_get_contents(__DIR__ .'\/assets\/family-photo.jpg');\n$image = new Image($fileContents, [\n   'FACE_DETECTION'\n]);"},{"caption":"<p>Files stored in Google Cloud Storage can be used.<\/p>","code":"\n$file = $cloud->storage()->bucket('my-test-bucket')->object('family-photo.jpg');\n$image = $vision->image($file, [\n    'FACE_DETECTION'\n]);"},{"caption":"<p>This example sets a maximum results limit on one feature and provides some image context.<\/p>","code":"\n$imageResource = fopen(__DIR__ .'\/assets\/family-photo.jpg', 'r');\n$image = $vision->image($imageResource, [\n    'FACE_DETECTION',\n    'LOGO_DETECTION'\n], [\n    'maxResults' => [\n        'FACE_DETECTION' => 1\n    ],\n    'imageContext' => [\n        'latLongRect' => [\n            'minLatLng' => [\n                'latitude' => '-45.0',\n                'longitude' => '-45.0'\n            ],\n            'maxLatLng' => [\n                'latitude' => '45.0',\n                'longitude' => '45.0'\n            ]\n        ]\n    ]\n]);"},{"caption":"<p>The client library also offers shortcut names which can be used in place of the longer feature names.<\/p>","code":"$image = new Image($imageResource, [\n    'faces',          \/\/ Corresponds to `FACE_DETECTION`\n    'landmarks',      \/\/ Corresponds to `LANDMARK_DETECTION`\n    'logos',          \/\/ Corresponds to `LOGO_DETECTION`\n    'labels',         \/\/ Corresponds to `LABEL_DETECTION`\n    'text',           \/\/ Corresponds to `TEXT_DETECTION`\n    'safeSearch',     \/\/ Corresponds to `SAFE_SEARCH_DETECTION`\n    'imagePoperties'  \/\/ Corresponds to `IMAGE_PROPERTIES`\n]);"}],"resources":[],"params":[{"name":"image","description":"<p>An image to configure with the given\nsettings. This parameter will accept a resource, a string of\nbytes, or an instance of <a data-custom-type=\"storage\/object\">Google\\Cloud\\Storage\\Object<\/a>.<\/p>","types":["resource","string","Object"],"optional":null,"nullable":null},{"name":"features","description":"<p>A list of cloud vision\n<a href=\"https:\/\/cloud.google.com\/vision\/reference\/rest\/v1\/images\/annotate#type\">features<\/a>\nto apply to the image. Google Cloud Platform Client Library provides a set of abbreviated\nnames which can be used in the interest of brevity in place of\nthe names offered by the cloud vision service. These names are\n<code>faces<\/code>, <code>landmarks<\/code>, <code>logos<\/code>, <code>labels<\/code>, <code>text<\/code>, <code>safeSearch<\/code>\nand <code>imageProperties<\/code>.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.maxResults","description":"<p>A list of features and the maximum number of results to return. Keys should correspond to feature names given in the <code>$features<\/code> array, and values should be of type int. In all cases where <code>$maxResults<\/code> does not contain a value for a feature, all results will be returned. In cases where a <code>$maxResults<\/code> value is specified, the cloud vision service will return results up to the <code>$maxResults<\/code> value, or the full results, whichever is fewer.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.imageContext","description":"<p>See <a href=\"https:\/\/cloud.google.com\/vision\/reference\/rest\/v1\/images\/annotate#imagecontext\">ImageContext<\/a> for full usage details.<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\InvalidArgumentException","description":""}],"returns":[]},{"id":"requestObject","type":"instance","name":"requestObject","source":"\/src\/Vision\/Image.php#L246","description":"<p>Return a formatted annotate image request.<\/p>\n<p>This method is used internally by <a data-custom-type=\"vision\/visionclient\">Google\\Cloud\\Vision\\VisionClient<\/a>\nand is not generally intended for use outside of that context.<\/p>","examples":[{"caption":"","code":"$imageResource = fopen(__DIR__ .'\/assets\/family-photo.jpg', 'r');\n$image = $vision->image($fileResource, [\n    'FACE_DETECTION'\n]);\n\n$requestObj = $image->requestObject();"}],"resources":[{"title":"AnnotateImageRequest","link":"https:\/\/cloud.google.com\/vision\/reference\/rest\/v1\/images\/annotate#annotateimagerequest"}],"params":[{"name":"encode","description":"<p>If set to true, image bytes will be base64-encoded\n(required for json\/rest requests)<\/p>","types":["bool"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["array"],"description":""}]}]}