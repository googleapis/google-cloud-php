{"id":"iam\/policybuilder","type":"","title":"Google\\Cloud\\Iam\\PolicyBuilder","name":"PolicyBuilder","description":"<p>Helper class for creating valid IAM policies<\/p>","examples":[{"caption":"","code":"use Google\\Cloud\\Iam\\PolicyBuilder;\n\n$builder = new PolicyBuilder();\n$builder->addBinding('roles\/admin', [ 'user:admin@domain.com' ]);\n$result = $builder->result();"}],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"#L59","description":"<p>Create a PolicyBuilder.<\/p>","examples":[],"resources":[],"params":[{"name":"policy","description":"<p>A policy array<\/p>","types":["array"],"optional":false,"nullable":null}],"exceptions":[{"type":"\\InvalidArgumentException","description":""}],"returns":[]},{"id":"setBindings","type":"instance","name":"setBindings","source":"#L95","description":"<p>Override all stored bindings on the policy.<\/p>","examples":[{"caption":"","code":"$builder->setBindings([\n    [\n        'role' => roles\/admin',\n        'members' => [\n            'user:admin@domain.com'\n        ]\n    ]\n]);"}],"resources":[],"params":[{"name":"bindings","description":"<p>An array of bindings<\/p>","types":["array"],"optional":true,"nullable":null}],"exceptions":[{"type":"\\InvalidArgumentException","description":""}],"returns":[{"types":["<a data-custom-type=\"iam\/policybuilder\">Google\\Cloud\\Iam\\PolicyBuilder<\/a>"],"description":""}]},{"id":"addBinding","type":"instance","name":"addBinding","source":"#L118","description":"<p>Add a new binding to the policy.<\/p>","examples":[{"caption":"","code":"$builder->addBinding('roles\/admin', [ 'user:admin@domain.com' ]);"}],"resources":[],"params":[{"name":"role","description":"<p>A valid role for the service<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"members","description":"<p>An array of members to assign to the binding<\/p>","types":["array"],"optional":false,"nullable":null}],"exceptions":[{"type":"\\InvalidArgumentException","description":""}],"returns":[{"types":["<a data-custom-type=\"iam\/policybuilder\">Google\\Cloud\\Iam\\PolicyBuilder<\/a>"],"description":""}]},{"id":"setEtag","type":"instance","name":"setEtag","source":"#L145","description":"<p>Update the etag on the policy.<\/p>","examples":[{"caption":"","code":"$builder->setEtag($oldPolicy['etag']);"}],"resources":[],"params":[{"name":"etag","description":"<p>used for optimistic concurrency control as a way to help prevent simultaneous updates of a\npolicy from overwriting each other. It is strongly suggested that updates to existing policies make use\nof the etag to avoid race conditions.<\/p>","types":["string"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"iam\/policybuilder\">Google\\Cloud\\Iam\\PolicyBuilder<\/a>"],"description":""}]},{"id":"setVersion","type":"instance","name":"setVersion","source":"#L163","description":"<p>Update the version of the policy.<\/p>","examples":[{"caption":"","code":"$builder->setVersion(1);"}],"resources":[],"params":[{"name":"version","description":"<p>Version of the Policy. <strong>Defaults to<\/strong> <code>0<\/code>.<\/p>","types":["int"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"iam\/policybuilder\">Google\\Cloud\\Iam\\PolicyBuilder<\/a>"],"description":""}]},{"id":"result","type":"instance","name":"result","source":"#L180","description":"<p>Create a policy array with data in the correct format.<\/p>","examples":[{"caption":"","code":"$builder->result();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["array"],"description":"<p>An array of policy data<\/p>"}]}]}