{"id":"trace\/span","type":"","title":"Google\\Cloud\\Trace\\Span","name":"Span","description":"<p>This plain PHP class represents a Span resource.<\/p>\n<p>A span represents a single timed event within a Trace. Spans can be nested\nand form a trace tree. Often, a trace contains a root span that describes\nthe end-to-end latency of an operation and, optionally, one or more subspans\nfor its suboperations. Spans do not need to be contiguous. There may be\ngaps between spans in a trace.<\/p>","examples":[{"caption":"","code":"use Google\\Cloud\\Trace\\TraceClient;\n\n$traceClient = new TraceClient();\n$trace = $traceClient->trace();\n$span = $trace->span([\n    'name' => 'span name',\n    'attributes' => ['foo' => 'bar'],\n    'stackTrace' => debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS)\n]);\n$span->setStartTime();\n$span->setEndTime();"}],"resources":[{"title":"Span model documentation","link":"https:\/\/cloud.google.com\/trace\/docs\/reference\/v2\/rest\/v2\/projects.traces\/batchWrite#Span"}],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"Trace\/src\/Span.php#L153","description":"<p>Instantiate a new Span instance.<\/p>","examples":[],"resources":[],"params":[{"name":"traceId","description":"<p>A unique identifier for a trace within a\nproject; it is a 32-character hexadecimal encoding of a 16-byte\narray.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.spanId","description":"<p>The ID of the span. If not provided, one will be generated automatically for you.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.name","description":"<p>The name of the span.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.startTime","description":"<p>Start time of the span in nanoseconds. If provided as a string, it must be in &quot;Zulu&quot; format. If provided as an int or float, it is expected to be a Unix timestamp.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/class.datetimeinterface.php\" target=\"_blank\">DateTimeInterface<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.float.php\" target=\"_blank\">float<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.endTime","description":"<p>End time of the span in nanoseconds. If provided as a string, it must be in &quot;Zulu&quot; format. If provided as an int or float, it is expected to be a Unix timestamp.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/class.datetimeinterface.php\" target=\"_blank\">DateTimeInterface<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.float.php\" target=\"_blank\">float<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.parentSpanId","description":"<p>ID of the parent span if any.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.attributes","description":"<p>Associative array of $label =&gt; $value to attach to this span.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.stackTrace","description":"<p>Stack trace captured at the start of the span.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.timeEvents","description":"<p>A set of time events. You can have up to 32 annotations and 128 message events per span.<\/p>","types":["<a data-custom-type=\"cloud-trace\/v1.3.0\/trace\/timeevent\">Google\\Cloud\\Trace\\TimeEvent[]<\/a>"],"optional":null,"nullable":null},{"name":"options.links","description":"<p>Links associated with the span. You can have up to 128 links per Span.<\/p>","types":["<a data-custom-type=\"cloud-trace\/v1.3.0\/trace\/link\">Google\\Cloud\\Trace\\Link[]<\/a>"],"optional":null,"nullable":null},{"name":"options.status","description":"<p>An optional final status for this span.<\/p>","types":["<a data-custom-type=\"cloud-trace\/v1.3.0\/trace\/status\">Google\\Cloud\\Trace\\Status<\/a>"],"optional":null,"nullable":null},{"name":"options.sameProcessAsParentSpan","description":"<p>A highly recommended but not required flag that identifies when a trace crosses a process boundary. True when the parent_span belongs to the same process as the current span.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[]},{"id":"setStartTime","type":"instance","name":"setStartTime","source":"Trace\/src\/Span.php#L215","description":"<p>Set the start time for this span.<\/p>","examples":[{"caption":"<p>Set the start time to now<\/p>","code":"$span->setStartTime();"},{"caption":"<p>Set the start time to a custom time<\/p>","code":"$span->setStartTime(new \\DateTime('2017-11-29 11:51:23'));"}],"resources":[],"params":[{"name":"when","description":"<p>The start time of this span.\n<strong>Defaults to<\/strong> now. If provided as a string, it must be in &quot;Zulu&quot; format.\nIf provided as an int or float, it is expected to be a Unix timestamp.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/class.datetimeinterface.php\" target=\"_blank\">DateTimeInterface<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.float.php\" target=\"_blank\">float<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[]},{"id":"startTime","type":"instance","name":"startTime","source":"Trace\/src\/Span.php#L230","description":"<p>Returns a &quot;Zulu&quot; formatted string representing the start time for this span.<\/p>","examples":[{"caption":"","code":"echo $span->startTime();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"description":""}]},{"id":"setEndTime","type":"instance","name":"setEndTime","source":"Trace\/src\/Span.php#L253","description":"<p>Set the end time for this span.<\/p>","examples":[{"caption":"<p>Set the end time to now<\/p>","code":"$span->setEndTime();"},{"caption":"<p>Set the end time to a custom time<\/p>","code":"$span->setEndTime(new \\DateTime('2017-11-29 11:51:23'));"}],"resources":[],"params":[{"name":"when","description":"<p>The end time of this span.\n<strong>Defaults to<\/strong> now. If provided as a string, it must be in &quot;Zulu&quot; format.\nIf provided as an int or float, it is expected to be a Unix timestamp.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/class.datetimeinterface.php\" target=\"_blank\">DateTimeInterface<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.float.php\" target=\"_blank\">float<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[]},{"id":"endTime","type":"instance","name":"endTime","source":"Trace\/src\/Span.php#L268","description":"<p>Returns a &quot;Zulu&quot; formatted string representing the end time for this span.<\/p>","examples":[{"caption":"","code":"echo $span->endTime();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"description":""}]},{"id":"setSpanId","type":"instance","name":"setSpanId","source":"Trace\/src\/Span.php#L283","description":"<p>Set the ID of this span<\/p>","examples":[{"caption":"","code":"$span->setSpanId('1234abcd');"}],"resources":[],"params":[{"name":"spanId","description":"","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[]},{"id":"setParentSpanId","type":"instance","name":"setParentSpanId","source":"Trace\/src\/Span.php#L298","description":"<p>Set the ID of this span's parent<\/p>","examples":[{"caption":"","code":"$span->setParentSpanId('1234abcd');"}],"resources":[],"params":[{"name":"spanId","description":"","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[]},{"id":"spanId","type":"instance","name":"spanId","source":"Trace\/src\/Span.php#L313","description":"<p>Retrieve the ID of this span.<\/p>","examples":[{"caption":"","code":"echo $span->spanId();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"description":""}]},{"id":"traceId","type":"instance","name":"traceId","source":"Trace\/src\/Span.php#L328","description":"<p>Retrieve the TraceID of this span<\/p>","examples":[{"caption":"","code":"echo $span->traceId();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"description":""}]},{"id":"parentSpanId","type":"instance","name":"parentSpanId","source":"Trace\/src\/Span.php#L343","description":"<p>Retrieve the ID of this span's parent if it exists.<\/p>","examples":[{"caption":"","code":"echo $span->parentSpanId();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"description":""}]},{"id":"name","type":"instance","name":"name","source":"Trace\/src\/Span.php#L358","description":"<p>Retrieve the name of this span.<\/p>","examples":[{"caption":"","code":"echo $span->name();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"description":""}]},{"id":"addTimeEvents","type":"instance","name":"addTimeEvents","source":"Trace\/src\/Span.php#L426","description":"<p>Add multiple TimeEvent to this span.<\/p>","examples":[{"caption":"","code":"$annotation = new Annotation('some message');\n$messageEvent = new MessageEvent('message id');\n$span->addTimeEvents([\n    $annotation,\n    $messageEvent\n]);"}],"resources":[],"params":[{"name":"events","description":"","types":["<a data-custom-type=\"cloud-trace\/v1.3.0\/trace\/timeevent\">Google\\Cloud\\Trace\\TimeEvent[]<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[]},{"id":"addTimeEvent","type":"instance","name":"addTimeEvent","source":"Trace\/src\/Span.php#L444","description":"<p>Add a single TimeEvent to this span.<\/p>","examples":[{"caption":"","code":"$annotation = new Annotation('some message');\n$span->addTimeEvent($annotation);"}],"resources":[],"params":[{"name":"event","description":"","types":["<a data-custom-type=\"cloud-trace\/v1.3.0\/trace\/timeevent\">Google\\Cloud\\Trace\\TimeEvent<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[]},{"id":"addLinks","type":"instance","name":"addLinks","source":"Trace\/src\/Span.php#L463","description":"<p>Add multiple Links to this span.<\/p>","examples":[{"caption":"","code":"$link = new Link('abcd1234', 'abcd2345');\n$span->addLinks([$link]);"}],"resources":[],"params":[{"name":"links","description":"","types":["<a data-custom-type=\"cloud-trace\/v1.3.0\/trace\/link\">Google\\Cloud\\Trace\\Link[]<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[]},{"id":"addLink","type":"instance","name":"addLink","source":"Trace\/src\/Span.php#L481","description":"<p>Add a single Link to this span.<\/p>","examples":[{"caption":"","code":"$link = new Link('abcd1234', 'abcd2345');\n$span->addLink($link);"}],"resources":[],"params":[{"name":"link","description":"","types":["<a data-custom-type=\"cloud-trace\/v1.3.0\/trace\/link\">Google\\Cloud\\Trace\\Link<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[]},{"id":"addAttributes","type":"instance","name":"addAttributes","source":"Trace\/src\/AttributeTrait.php#L35","description":"<p>Attach labels to this span.<\/p>\n\nImplemented in <a data-custom-type=\"cloud-trace\/v1.3.0\/trace\/attributetrait\">Google\\Cloud\\Trace\\AttributeTrait<\/a>","examples":[],"resources":[],"params":[{"name":"labels","description":"<p>Labels in the form of $label =&gt; $value<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[]},{"id":"addAttribute","type":"instance","name":"addAttribute","source":"Trace\/src\/AttributeTrait.php#L48","description":"<p>Attach a single label to this span.<\/p>\n\nImplemented in <a data-custom-type=\"cloud-trace\/v1.3.0\/trace\/attributetrait\">Google\\Cloud\\Trace\\AttributeTrait<\/a>","examples":[],"resources":[],"params":[{"name":"label","description":"<p>The name of the label.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"value","description":"<p>The value of the label. Will be cast to a string<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.pseudo-types.php#language.types.mixed\" target=\"_blank\">mixed<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[]}]}