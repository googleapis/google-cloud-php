{"id":"pubsub\/topic","type":"","title":"Google\\Cloud\\PubSub\\Topic","name":"Topic","description":"<p>A named resource to which messages are sent by publishers.<\/p>","examples":[{"caption":"","code":"use Google\\Cloud\\PubSub\\PubSubClient;\n\n$pubsub = new PubSubClient();\n$topic = $pubsub->topic('my-new-topic');"},{"caption":"<p>You can also pass a fully-qualified topic name:<\/p>","code":"$topic = $pubsub->topic('projects\/my-awesome-project\/topics\/my-new-topic');"}],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"src\/PubSub\/Topic.php#L102","description":"<p>Create a PubSub topic.<\/p>","examples":[],"resources":[],"params":[{"name":"connection","description":"<p>A connection to the Google Cloud\nPlatform service<\/p>","types":["<a data-custom-type=\"pubsub\/connection\/connectioninterface\">Google\\Cloud\\PubSub\\Connection\\ConnectionInterface<\/a>"],"optional":false,"nullable":null},{"name":"projectId","description":"<p>The project Id<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"name","description":"<p>The topic name<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"encode","description":"<p>Whether messages should be base64 encoded.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":false,"nullable":null},{"name":"info","description":"<p>A <a href=\"https:\/\/cloud.google.com\/pubsub\/docs\/reference\/rest\/v1\/projects.topics\">Topic<\/a><\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"clientConfig","description":"<p>Configuration options for the\nPubSub client used to handle processing of batch items through the\ndaemon. For valid options please see\n<a data-custom-type=\"pubsub\/pubsubclient\" data-method=\"__construct\">Google\\Cloud\\PubSub\\PubSubClient::__construct()<\/a>.\n<strong>Defaults to<\/strong> the options provided to the PubSub client\nassociated with this instance.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[]},{"id":"name","type":"instance","name":"name","source":"src\/PubSub\/Topic.php#L134","description":"<p>Get the topic name<\/p>","examples":[{"caption":"","code":"echo $topic->name();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"description":""}]},{"id":"create","type":"instance","name":"create","source":"src\/PubSub\/Topic.php#L152","description":"<p>Create a topic.<\/p>","examples":[{"caption":"","code":"$topicInfo = $topic->create();"}],"resources":[{"title":"Create Topic","link":"https:\/\/cloud.google.com\/pubsub\/docs\/reference\/rest\/v1\/projects.topics\/create"}],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"description":"<p>Topic information<\/p>"}]},{"id":"delete","type":"instance","name":"delete","source":"src\/PubSub\/Topic.php#L174","description":"<p>Delete a topic.<\/p>","examples":[{"caption":"","code":"$topic->delete();"}],"resources":[{"title":"Delete Topic","link":"https:\/\/cloud.google.com\/pubsub\/docs\/reference\/rest\/v1\/projects.topics\/delete"}],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.pseudo-types.php#language.types.void\" target=\"_blank\">void<\/a>"],"description":""}]},{"id":"exists","type":"instance","name":"exists","source":"src\/PubSub\/Topic.php#L198","description":"<p>Check if a topic exists.<\/p>\n<p>Service errors will NOT bubble up from this method. It will always return\na boolean value. If you want to check for errors, use\n<a data-custom-type=\"pubsub\/topic\" data-method=\"info\">Google\\Cloud\\PubSub\\Topic::info()<\/a>.<\/p>","examples":[{"caption":"","code":"if ($topic->exists()) {\n    echo 'Topic exists';\n}"}],"resources":[],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"description":""}]},{"id":"info","type":"instance","name":"info","source":"src\/PubSub\/Topic.php#L233","description":"<p>Get topic information.<\/p>\n<p>Currently this resource returns only the topic name, if the topic exists.\nIt is mostly useful therefore for checking if a topic exists.<\/p>\n<p>Since this method will throw an exception if the topic is not found, you\nmay find that Topic::exists() is a better fit for a true\/false check.<\/p>\n<p>This method will use the previously cached result, if available. To force\na refresh from the API, use <a href=\"https:\/\/googleapis.github.io\/gax-php\/#Google\/Cloud\/Pubsub\\Topic::reload().html\" target=\"_blank\">Google\\Cloud\\Pubsub\\Topic::reload()<\/a>.<\/p>","examples":[{"caption":"","code":"$info = $topic->info();\necho $info['name']; \/\/ projects\/my-awesome-project\/topics\/my-new-topic"}],"resources":[{"title":"Get Topic","link":"https:\/\/cloud.google.com\/pubsub\/docs\/reference\/rest\/v1\/projects.topics\/get"}],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"description":"<p><a href=\"https:\/\/cloud.google.com\/pubsub\/docs\/reference\/rest\/v1\/projects.topics\">A representation of a Topic<\/a><\/p>"}]},{"id":"reload","type":"instance","name":"reload","source":"src\/PubSub\/Topic.php#L268","description":"<p>Get topic information from the API.<\/p>\n<p>Currently this resource returns only the topic name, if the topic exists.\nIt is mostly useful therefore for checking if a topic exists.<\/p>\n<p>Since this method will throw an exception if the topic is not found, you\nmay find that Topic::exists() is a better fit for a true\/false check.<\/p>\n<p>This method will retrieve a new result from the API. To use a previously\ncached result, if one exists, use <a href=\"https:\/\/googleapis.github.io\/gax-php\/#Google\/Cloud\/Pubsub\\Topic::info().html\" target=\"_blank\">Google\\Cloud\\Pubsub\\Topic::info()<\/a>.<\/p>","examples":[{"caption":"","code":"$topic->reload();\n$info = $topic->info();\necho $info['name']; \/\/ projects\/my-awesome-project\/topics\/my-new-topic"}],"resources":[{"title":"Get Topic","link":"https:\/\/cloud.google.com\/pubsub\/docs\/reference\/rest\/v1\/projects.topics\/get"}],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"description":"<p><a href=\"https:\/\/cloud.google.com\/pubsub\/docs\/reference\/rest\/v1\/projects.topics\">A representation of a Topic<\/a><\/p>"}]},{"id":"publish","type":"instance","name":"publish","source":"src\/PubSub\/Topic.php#L298","description":"<p>Publish a new message to the topic.<\/p>\n<p>$message must provide at least one of <code>data<\/code> and <code>attributes<\/code> members.<\/p>","examples":[{"caption":"","code":"$topic->publish([\n    'data' => 'New User Registered',\n    'attributes' => [\n        'id' => '1',\n        'userName' => 'John',\n        'location' => 'Detroit'\n    ]\n]);"}],"resources":[{"title":"Publish Message","link":"https:\/\/cloud.google.com\/pubsub\/docs\/reference\/rest\/v1\/projects.topics\/publish"}],"params":[{"name":"message","description":"<p><a href=\"https:\/\/cloud.google.com\/pubsub\/docs\/reference\/rest\/v1\/PubsubMessage\">Message Format<\/a>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration Options<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"description":"<p>A list of message IDs<\/p>"}]},{"id":"publishBatch","type":"instance","name":"publishBatch","source":"src\/PubSub\/Topic.php#L334","description":"<p>Publish multiple messages at once.<\/p>","examples":[{"caption":"","code":"$topic->publishBatch([\n    [\n        'data' => 'New User Registered',\n        'attributes' => [\n            'id' => '1',\n            'userName' => 'John',\n            'location' => 'Detroit'\n        ]\n    ], [\n        'data' => 'New User Registered',\n        'attributes' => [\n            'id' => '2',\n            'userName' => 'Steve',\n            'location' => 'Mountain View'\n        ]\n    ]\n]);"}],"resources":[{"title":"Publish Message","link":"https:\/\/cloud.google.com\/pubsub\/docs\/reference\/rest\/v1\/projects.topics\/publish"}],"params":[{"name":"messages","description":"<p>A list of messages. Each message must be in the correct\n<a href=\"https:\/\/cloud.google.com\/pubsub\/docs\/reference\/rest\/v1\/PubsubMessage\">Message Format<\/a>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration Options<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"description":"<p>A list of message IDs.<\/p>"}]},{"id":"batchPublisher","type":"instance","name":"batchPublisher","source":"src\/PubSub\/Topic.php#L399","description":"<p>Push a message into a batch queue, to be processed at a later point.<\/p>","examples":[{"caption":"","code":"$topic->batchPublisher()\n    ->publish([\n        'data' => 'New User Registered',\n        'attributes' => [\n            'id' => '2',\n            'userName' => 'Dave',\n            'location' => 'Detroit'\n        ]\n    ]);"}],"resources":[],"params":[{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.debugOutput","description":"<p>Whether or not to output debug information. Please note debug output currently only applies in CLI based applications. <strong>Defaults to<\/strong> <code>false<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null},{"name":"options.batchOptions","description":"<p>A set of options for a BatchJob. <a data-custom-type=\"cloud-core\/master\/core\/batch\/batchjob\" data-method=\"__construct\">Google\\Cloud\\Core\\Batch\\BatchJob::__construct()<\/a> for more details. <strong>Defaults to<\/strong> ['batchSize' =&gt; 1000, 'callPeriod' =&gt; 2.0, 'numWorkers' =&gt; 2].<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.clientConfig","description":"<p>Configuration options for the PubSub client used to handle processing of batch items. For valid options please see <a data-custom-type=\"pubsub\/pubsubclient\" data-method=\"__construct\">Google\\Cloud\\PubSub\\PubSubClient::__construct()<\/a>. <strong>Defaults to<\/strong> the options provided to the client associated with the current <code>Topic<\/code> instance.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.batchRunner","description":"<p>A BatchRunner object. Mainly used for the tests to inject a mock. <strong>Defaults to<\/strong> a newly created BatchRunner.<\/p>","types":["<a href=\"https:\/\/googleapis.github.io\/gax-php\/#Google\/Cloud\/PubSub\\BatchRunner.html\" target=\"_blank\">Google\\Cloud\\PubSub\\BatchRunner<\/a>"],"optional":null,"nullable":null},{"name":"options.identifier","description":"<p>An identifier for the batch job. <strong>Defaults to<\/strong> <code>pubsub-topic-{topic-name}<\/code>. Example: <code>pubsub-topic-mytopic<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.closureSerializer","description":"<p>An implementation responsible for serializing closures used in the <code>$clientConfig<\/code>. This is especially important when using the batch daemon. <strong>Defaults to<\/strong> <a data-custom-type=\"cloud-core\/master\/core\/batch\/opisclosureserializer\">Google\\Cloud\\Core\\Batch\\OpisClosureSerializer<\/a> if the <code>opis\/closure<\/code> library is installed.<\/p>","types":["<a data-custom-type=\"cloud-core\/master\/core\/batch\/closureserializerinterface\">Google\\Cloud\\Core\\Batch\\ClosureSerializerInterface<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"pubsub\/batchpublisher\">Google\\Cloud\\PubSub\\BatchPublisher<\/a>"],"description":""}]},{"id":"subscribe","type":"instance","name":"subscribe","source":"src\/PubSub\/Topic.php#L424","description":"<p>Create a subscription to the topic.<\/p>","examples":[{"caption":"","code":"$subscription = $topic->subscribe('my-new-subscription');"}],"resources":[{"title":"Create Subscription","link":"https:\/\/cloud.google.com\/pubsub\/docs\/reference\/rest\/v1\/projects.subscriptions\/create"}],"params":[{"name":"name","description":"<p>The subscription name<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Please see <a data-custom-type=\"pubsub\/subscription\" data-method=\"create\">Google\\Cloud\\PubSub\\Subscription::create()<\/a>\nfor configuration details.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"pubsub\/subscription\">Google\\Cloud\\PubSub\\Subscription<\/a>"],"description":""}]},{"id":"subscription","type":"instance","name":"subscription","source":"src\/PubSub\/Topic.php#L445","description":"<p>This method will not run any API requests. You will receive a\nSubscription object that you can use to interact with the API.<\/p>","examples":[{"caption":"","code":"$subscription = $topic->subscription('my-new-subscription');"}],"resources":[],"params":[{"name":"name","description":"<p>The subscription name<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"pubsub\/subscription\">Google\\Cloud\\PubSub\\Subscription<\/a>"],"description":""}]},{"id":"subscriptions","type":"instance","name":"subscriptions","source":"src\/PubSub\/Topic.php#L476","description":"<p>Retrieve a list of active subscriptions to the current topic.<\/p>","examples":[{"caption":"","code":"$subscriptions = $topic->subscriptions();\nforeach ($subscriptions as $subscription) {\n    echo $subscription->name();\n}"}],"resources":[{"title":"List Topic Subscriptions","link":"https:\/\/cloud.google.com\/pubsub\/docs\/reference\/rest\/v1\/projects.topics.subscriptions\/list"}],"params":[{"name":"options","description":"<p>Configuration Options<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.pageSize","description":"<p>Maximum number of subscriptions to return.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"options.resultLimit","description":"<p>Limit the number of results returned in total. <strong>Defaults to<\/strong> <code>0<\/code> (return all results).<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"options.pageToken","description":"<p>A previously-returned page token used to resume the loading of results from a specific point.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-core\/master\/core\/iterator\/itemiterator\">Google\\Cloud\\Core\\Iterator\\ItemIterator<\/a>&lt;<a data-custom-type=\"pubsub\/subscription\">Google\\Cloud\\PubSub\\Subscription<\/a>&gt;"],"description":""}]},{"id":"iam","type":"instance","name":"iam","source":"src\/PubSub\/Topic.php#L512","description":"<p>Manage the IAM policy for the current Topic.<\/p>","examples":[{"caption":"","code":"$iam = $topic->iam();"}],"resources":[{"title":"PubSub Access Control Documentation","link":"https:\/\/cloud.google.com\/pubsub\/access_control"},{"title":"Get Topic IAM Policy","link":"https:\/\/cloud.google.com\/pubsub\/docs\/reference\/rest\/v1\/projects.topics\/getIamPolicy"},{"title":"Set Topic IAM Policy","link":"https:\/\/cloud.google.com\/pubsub\/docs\/reference\/rest\/v1\/projects.topics\/setIamPolicy"},{"title":"Test Topic Permissions","link":"https:\/\/cloud.google.com\/pubsub\/docs\/reference\/rest\/v1\/projects.topics\/testIamPermissions"}],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-core\/master\/core\/iam\/iam\">Google\\Cloud\\Core\\Iam\\Iam<\/a>"],"description":""}]}]}