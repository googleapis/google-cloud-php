{"id":"pubsub\/message","type":"","title":"Google\\Cloud\\PubSub\\Message","name":"Message","description":"<p>Represents a PubSub Message.<\/p>","examples":[{"caption":"","code":"use Google\\Cloud\\PubSub\\PubSubClient;\n\n$pubsub = new PubSubClient();\n$subscription = $pubsub->subscription('my-new-subscription');\n\n$messages = $subscription->pull();\nforeach ($messages as $message) {\n    echo $message->data();\n}"}],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"PubSub\/src\/Message.php#L91","description":"","examples":[],"resources":[],"params":[{"name":"message","description":"<p>Message Options<\/p>\n<pre><code>See [PubsubMessage](https:\/\/cloud.google.com\/pubsub\/docs\/reference\/rest\/v1\/PubsubMessage).<\/code><\/pre>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null},{"name":"message.data","description":"<p>The message data field. If this is empty, the message must contain at least one attribute.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"message.attributes","description":"<p>Optional attributes for this message.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"message.messageId","description":"<p>ID of this message, assigned by the server when the message is published.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"message.publishTime","description":"<p>The time at which the message was published, populated by the server when it receives the publish call.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"message.orderingKey","description":"<p>The message ordering key.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"metadata","description":"<p>Message metadata<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"metadata.ackId","description":"<p>The message ackId. This is only set when messages are pulled from the PubSub service.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"metadata.deliveryAttempt","description":"<p>Delivery attempt counter is 1 + (the sum of number of NACKs and number of ack_deadline exceeds) for this message. If a DeadLetterPolicy is not set on the subscription, this will be <code>null<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"metadata.subscription","description":"<p>The subscription the message was obtained from. This is only set when messages are delivered by pushDelivery<\/p>","types":["<a data-custom-type=\"cloud-pubsub\/v1.28.0\/pubsub\/subscription\">Google\\Cloud\\PubSub\\Subscription<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[]},{"id":"data","type":"instance","name":"data","source":"PubSub\/src\/Message.php#L122","description":"<p>The message payload.<\/p>","examples":[{"caption":"","code":"echo $message->data();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"description":""}]},{"id":"attribute","type":"instance","name":"attribute","source":"PubSub\/src\/Message.php#L138","description":"<p>Retrieve a single message attribute.<\/p>","examples":[{"caption":"","code":"echo $message->attribute('browser-name');"}],"resources":[],"params":[{"name":"key","description":"<p>The attribute key<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.null.php\" target=\"_blank\">null<\/a>"],"description":""}]},{"id":"attributes","type":"instance","name":"attributes","source":"PubSub\/src\/Message.php#L155","description":"<p>Retrieve all message attributes.<\/p>","examples":[{"caption":"","code":"$attributes = $message->attributes();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"description":""}]},{"id":"id","type":"instance","name":"id","source":"PubSub\/src\/Message.php#L173","description":"<p>Get the message ID.<\/p>\n<p>The message ID is assigned by the server when the message is published.\nGuaranteed to be unique within the topic.<\/p>","examples":[{"caption":"","code":"echo $message->id();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"description":""}]},{"id":"orderingKey","type":"instance","name":"orderingKey","source":"PubSub\/src\/Message.php#L188","description":"<p>Get the message ordering key.<\/p>","examples":[{"caption":"","code":"$orderingKey = $message->orderingKey();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.null.php\" target=\"_blank\">null<\/a>"],"description":""}]},{"id":"publishTime","type":"instance","name":"publishTime","source":"PubSub\/src\/Message.php#L203","description":"<p>Get the message published time.<\/p>","examples":[{"caption":"","code":"$time = $message->publishTime();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/class.datetimeinterface.php\" target=\"_blank\">DateTimeInterface<\/a>"],"description":""}]},{"id":"ackId","type":"instance","name":"ackId","source":"PubSub\/src\/Message.php#L223","description":"<p>Get the message ackId.<\/p>\n<p>This is only set when message is obtained via\n<a data-custom-type=\"cloud-pubsub\/v1.28.0\/pubsub\/subscription\" data-method=\"pull\">Google\\Cloud\\PubSub\\Subscription::pull()<\/a>.<\/p>","examples":[{"caption":"","code":"echo $message->ackId();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"description":""}]},{"id":"deliveryAttempt","type":"instance","name":"deliveryAttempt","source":"PubSub\/src\/Message.php#L240","description":"<p>Get the delivery attempt count.<\/p>\n<p>If a DeadLetterPolicy is not set on the subscription, this will be <code>null<\/code>.<\/p>","examples":[{"caption":"","code":"echo $message->deliveryAttempt();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.null.php\" target=\"_blank\">null<\/a>"],"description":""}]},{"id":"subscription","type":"instance","name":"subscription","source":"PubSub\/src\/Message.php#L257","description":"<p>Get the subcription through which the message was obtained.<\/p>\n<p>This is only set when the message is obtained via push delivery.<\/p>","examples":[{"caption":"","code":"echo \"Subscription Name: \". $message->subscription()->name();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-pubsub\/v1.28.0\/pubsub\/subscription\">Google\\Cloud\\PubSub\\Subscription<\/a>"],"description":""}]},{"id":"info","type":"instance","name":"info","source":"PubSub\/src\/Message.php#L274","description":"<p>Get the message data.<\/p>\n<p>Available keys are <code>ackId<\/code>, <code>subscription<\/code> and <code>message<\/code>.<\/p>","examples":[{"caption":"","code":"$info = $message->info();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"description":""}]},{"id":"toArray","type":"instance","name":"toArray","source":"PubSub\/src\/Message.php#L289","description":"<p>Get the message as an array.<\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"description":""}]}]}