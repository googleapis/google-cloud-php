{"id":"storage\/storageclient","type":"","title":"Google\\Cloud\\Storage\\StorageClient","name":"StorageClient","description":"<p>Google Cloud Storage allows you to store and retrieve data on Google's\ninfrastructure. Find more information at the\n<a href=\"https:\/\/developers.google.com\/storage\">Google Cloud Storage API docs<\/a>.<\/p>","examples":[{"caption":"","code":"use Google\\Cloud\\Storage\\StorageClient;\n\n$storage = new StorageClient();"}],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"Storage\/src\/StorageClient.php#L91","description":"<p>Create a Storage client.<\/p>","examples":[],"resources":[],"params":[{"name":"config","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"config.projectId","description":"<p>The project ID from the Google Developer's Console.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"config.authCache","description":"<p>A cache used storing access tokens. <strong>Defaults to<\/strong> a simple in memory implementation.<\/p>","types":["<a href=\"https:\/\/github.com\/php-fig\/cache\/blob\/master\/src\/CacheItemPoolInterface.php\" target=\"_blank\">Psr\\Cache\\CacheItemPoolInterface<\/a>"],"optional":null,"nullable":null},{"name":"config.authCacheOptions","description":"<p>Cache configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"config.authHttpHandler","description":"<p>A handler used to deliver Psr7 requests specifically for authentication.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.callable.php\" target=\"_blank\">callable<\/a>"],"optional":null,"nullable":null},{"name":"config.credentialsFetcher","description":"<p>A credentials fetcher instance.<\/p>","types":["<a href=\"https:\/\/github.com\/google\/google-auth-library-php\/blob\/master\/src\/FetchAuthTokenInterface.php\" target=\"_blank\">Google\\Auth\\FetchAuthTokenInterface<\/a>"],"optional":null,"nullable":null},{"name":"config.httpHandler","description":"<p>A handler used to deliver Psr7 requests. Only valid for requests sent over REST.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.callable.php\" target=\"_blank\">callable<\/a>"],"optional":null,"nullable":null},{"name":"config.keyFile","description":"<p>The contents of the service account credentials .json file retrieved from the Google Developer's Console. Ex: <code>json_decode(file_get_contents($path), true)<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"config.keyFilePath","description":"<p>The full path to your service account credentials .json file retrieved from the Google Developers Console.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"config.requestTimeout","description":"<p>Seconds to wait before timing out the request. <strong>Defaults to<\/strong> <code>0<\/code> with REST and <code>60<\/code> with gRPC.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.float.php\" target=\"_blank\">float<\/a>"],"optional":null,"nullable":null},{"name":"config.retries","description":"<p>Number of retries for a failed request. <strong>Defaults to<\/strong> <code>3<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"config.scopes","description":"<p>Scopes to be used for the request.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[]},{"id":"bucket","type":"instance","name":"bucket","source":"Storage\/src\/StorageClient.php#L125","description":"<p>Lazily instantiates a bucket. There are no network requests made at this\npoint. To see the operations that can be performed on a bucket please\nsee <a data-custom-type=\"cloud-storage\/v1.5.2\/storage\/bucket\">Google\\Cloud\\Storage\\Bucket<\/a>.<\/p>\n<p>If <code>$userProject<\/code> is set to true, the current project ID (used to\ninstantiate the client) will be billed for all requests. If\n<code>$userProject<\/code> is a project ID, given as a string, that project\nwill be billed for all requests. This only has an effect when the bucket\nis not owned by the current or given project ID.<\/p>","examples":[{"caption":"","code":"$bucket = $storage->bucket('my-bucket');"}],"resources":[],"params":[{"name":"name","description":"<p>The name of the bucket to request.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"userProject","description":"<p>If true, the current Project ID\nwill be used. If a string, that string will be used as the\nuserProject argument, and that project will be billed for the\nrequest. <strong>Defaults to<\/strong> <code>false<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-storage\/v1.5.2\/storage\/bucket\">Google\\Cloud\\Storage\\Bucket<\/a>"],"description":""}]},{"id":"buckets","type":"instance","name":"buckets","source":"Storage\/src\/StorageClient.php#L184","description":"<p>Fetches all buckets in the project.<\/p>","examples":[{"caption":"","code":"$buckets = $storage->buckets();"},{"caption":"<p>Get all buckets beginning with the prefix 'album'.<\/p>","code":"$buckets = $storage->buckets([\n    'prefix' => 'album'\n]);\n\nforeach ($buckets as $bucket) {\n    echo $bucket->name() . PHP_EOL;\n}"}],"resources":[{"title":"Buckets list API documentation.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/buckets\/list"}],"params":[{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.maxResults","description":"<p>Maximum number of results to return per requested page.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"options.resultLimit","description":"<p>Limit the number of results returned in total. <strong>Defaults to<\/strong> <code>0<\/code> (return all results).<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"options.pageToken","description":"<p>A previously-returned page token used to resume the loading of results from a specific point.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.prefix","description":"<p>Filter results with this prefix.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.projection","description":"<p>Determines which properties to return. May be either 'full' or 'noAcl'.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.fields","description":"<p>Selector which will cause the response to only return the specified fields.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.userProject","description":"<p>If set, this is the ID of the project which will be billed for the request.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.bucketUserProject","description":"<p>If true, each returned instance will have <code>$userProject<\/code> set to the value of <code>$options.userProject<\/code>. If false, <code>$options.userProject<\/code> will be used ONLY for the listBuckets operation. If <code>$options.userProject<\/code> is not set, this option has no effect. <strong>Defaults to<\/strong> <code>true<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\Cloud\\Core\\Exception\\GoogleException","description":"When a project ID has not been detected."}],"returns":[{"types":["<a data-custom-type=\"cloud-core\/v1.20.6\/core\/iterator\/itemiterator\">Google\\Cloud\\Core\\Iterator\\ItemIterator<\/a>&lt;<a data-custom-type=\"cloud-storage\/v1.5.2\/storage\/bucket\">Google\\Cloud\\Storage\\Bucket<\/a>&gt;"],"description":""}]},{"id":"createBucket","type":"instance","name":"createBucket","source":"Storage\/src\/StorageClient.php#L301","description":"<p>Create a bucket. Bucket names must be unique as Cloud Storage uses a flat\nnamespace. For more information please see\n<a href=\"https:\/\/cloud.google.com\/storage\/docs\/naming#requirements\">bucket name requirements<\/a><\/p>","examples":[{"caption":"","code":"$bucket = $storage->createBucket('bucket');"},{"caption":"<p>Create a bucket with logging enabled.<\/p>","code":"$bucket = $storage->createBucket('myBeautifulBucket', [\n    'logging' => [\n        'logBucket' => 'bucketToLogTo',\n        'logObjectPrefix' => 'myPrefix'\n    ]\n]);"}],"resources":[{"title":"Buckets insert API documentation.","link":"https:\/\/cloud.google.com\/storage\/docs\/json_api\/v1\/buckets\/insert"}],"params":[{"name":"name","description":"<p>Name of the bucket to be created.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.predefinedAcl","description":"<p>Predefined ACL to apply to the bucket. Acceptable values include, <code>\"authenticatedRead\"<\/code>, <code>\"bucketOwnerFullControl\"<\/code>, <code>\"bucketOwnerRead\"<\/code>, <code>\"private\"<\/code>, <code>\"projectPrivate\"<\/code>, and <code>\"publicRead\"<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.predefinedDefaultObjectAcl","description":"<p>Apply a predefined set of default object access controls to this bucket.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.projection","description":"<p>Determines which properties to return. May be either <code>\"full\"<\/code> or <code>\"noAcl\"<\/code>. <strong>Defaults to<\/strong> <code>\"noAcl\"<\/code>, unless the bucket resource specifies acl or defaultObjectAcl properties, when it defaults to <code>\"full\"<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.fields","description":"<p>Selector which will cause the response to only return the specified fields.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.acl","description":"<p>Access controls on the bucket.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.cors","description":"<p>The bucket's Cross-Origin Resource Sharing (CORS) configuration.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.defaultObjectAcl","description":"<p>Default access controls to apply to new objects when no ACL is provided.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.lifecycle","description":"<p>The bucket's lifecycle configuration.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.location","description":"<p>The location of the bucket. <strong>Defaults to<\/strong> <code>\"US\"<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.logging","description":"<p>The bucket's logging configuration, which defines the destination bucket and optional name prefix for the current bucket's logs.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.storageClass","description":"<p>The bucket's storage class. This defines how objects in the bucket are stored and determines the SLA and the cost of storage. Acceptable values include <code>\"MULTI_REGIONAL\"<\/code>, <code>\"REGIONAL\"<\/code>, <code>\"NEARLINE\"<\/code>, <code>\"COLDLINE\"<\/code>, <code>\"STANDARD\"<\/code> and <code>\"DURABLE_REDUCED_AVAILABILITY\"<\/code>. <strong>Defaults to<\/strong> <code>STANDARD<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.versioning","description":"<p>The bucket's versioning configuration.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.website","description":"<p>The bucket's website configuration.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.billing","description":"<p>The bucket's billing configuration.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.billing.requesterPays","description":"<p>When <code>true<\/code>, requests to this bucket and objects within it must provide a project ID to which the request will be billed.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null},{"name":"options.labels","description":"<p>The Bucket labels. Labels are represented as an array of keys and values. To remove an existing label, set its value to <code>null<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.userProject","description":"<p>If set, this is the ID of the project which will be billed for the request.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.bucketUserProject","description":"<p>If true, the returned instance will have <code>$userProject<\/code> set to the value of <code>$options.userProject<\/code>. If false, <code>$options.userProject<\/code> will be used ONLY for the createBucket operation. If <code>$options.userProject<\/code> is not set, this option has no effect. <strong>Defaults to<\/strong> <code>true<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null},{"name":"options.encryption","description":"<p>Encryption configuration used by default for newly inserted objects.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.encryption.defaultKmsKeyName","description":"<p>A Cloud KMS Key used to encrypt objects uploaded into this bucket. Should be in the format <code>projects\/my-project\/locations\/kr-location\/keyRings\/my-kr\/cryptoKeys\/my-key<\/code>. Please note the KMS key ring must use the same location as the bucket.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\Cloud\\Core\\Exception\\GoogleException","description":"When a project ID has not been detected."}],"returns":[{"types":["<a data-custom-type=\"cloud-storage\/v1.5.2\/storage\/bucket\">Google\\Cloud\\Storage\\Bucket<\/a>"],"description":""}]},{"id":"registerStreamWrapper","type":"instance","name":"registerStreamWrapper","source":"Storage\/src\/StorageClient.php#L332","description":"<p>Registers this StorageClient as the handler for stream reading\/writing.<\/p>","examples":[],"resources":[],"params":[{"name":"protocol","description":"<p>The name of the protocol to use. <strong>Defaults to<\/strong> <code>gs<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null}],"exceptions":[{"type":"\\RuntimeException","description":""}],"returns":[]},{"id":"unregisterStreamWrapper","type":"instance","name":"unregisterStreamWrapper","source":"Storage\/src\/StorageClient.php#L342","description":"<p>Unregisters the SteamWrapper<\/p>","examples":[],"resources":[],"params":[{"name":"protocol","description":"<p>The name of the protocol to unregister. <strong>Defaults to<\/strong> <code>gs<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[]},{"id":"signedUrlUploader","type":"instance","name":"signedUrlUploader","source":"Storage\/src\/StorageClient.php#L361","description":"<p>Create an uploader to handle a Signed URL.<\/p>","examples":[{"caption":"","code":"$uploader = $storage->signedUrlUploader($uri, fopen('\/path\/to\/myfile.doc', 'r'));"}],"resources":[],"params":[{"name":"uri","description":"<p>The URI to accept an upload request.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"data","description":"<p>The data to be uploaded<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.resource.php\" target=\"_blank\">resource<\/a>","<a href=\"https:\/\/github.com\/php-fig\/http-message\/blob\/master\/src\/StreamInterface.php\" target=\"_blank\">Psr\\Http\\Message\\StreamInterface<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration Options. Refer to\n<a data-custom-type=\"cloud-core\/v1.20.6\/core\/upload\/abstractuploader\" data-method=\"__construct\">Google\\Cloud\\Core\\Upload\\AbstractUploader::__construct()<\/a>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-core\/v1.20.6\/core\/upload\/signedurluploader\">Google\\Cloud\\Core\\Upload\\SignedUrlUploader<\/a>"],"description":""}]},{"id":"timestamp","type":"instance","name":"timestamp","source":"Storage\/src\/StorageClient.php#L378","description":"<p>Create a Timestamp object.<\/p>","examples":[{"caption":"","code":"$timestamp = $storage->timestamp(new \\DateTime('2003-02-05 11:15:02.421827Z'));"}],"resources":[],"params":[{"name":"value","description":"<p>The timestamp value.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/class.datetimeinterface.php\" target=\"_blank\">DateTimeInterface<\/a>"],"optional":false,"nullable":null},{"name":"nanoSeconds","description":"<p>The number of nanoseconds in the timestamp.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-core\/v1.20.6\/core\/timestamp\">Google\\Cloud\\Core\\Timestamp<\/a>"],"description":""}]}]}