{"id":"automl\/v1\/batchpredictinputconfig","type":"","title":"Google\\Cloud\\AutoMl\\V1\\BatchPredictInputConfig","name":"BatchPredictInputConfig","description":"<p>Input configuration for BatchPredict Action.<\/p>\n<p>The format of input depends on the ML problem of the model used for\nprediction. As input source the\n[gcs_source][google.cloud.automl.v1.InputConfig.gcs_source]\nis expected, unless specified otherwise.\nThe formats are represented in EBNF with commas being literal and with\nnon-terminal symbols defined near the end of this comment. The formats\nare:<\/p>\n<h4>AutoML Vision<\/h4>\n<div class=\"ds-selector-tabs\"><section><h5>Classification<\/h5>\nOne or more CSV files where each line is a single column:\n    GCS_FILE_PATH\nThe Google Cloud Storage location of an image of up to\n30MB in size. Supported extensions: .JPEG, .GIF, .PNG.\nThis path is treated as the ID in the batch predict output.\nSample rows:\n    gs:\/\/folder\/image1.jpeg\n    gs:\/\/folder\/image2.gif\n    gs:\/\/folder\/image3.png\n<\/section><section><h5>Object Detection<\/h5>\nOne or more CSV files where each line is a single column:\n    GCS_FILE_PATH\nThe Google Cloud Storage location of an image of up to\n30MB in size. Supported extensions: .JPEG, .GIF, .PNG.\nThis path is treated as the ID in the batch predict output.\nSample rows:\n    gs:\/\/folder\/image1.jpeg\n    gs:\/\/folder\/image2.gif\n    gs:\/\/folder\/image3.png\n  <\/section>\n<\/div>\n<h4>AutoML Video Intelligence<\/h4>\n<div class=\"ds-selector-tabs\"><section><h5>Classification<\/h5>\nOne or more CSV files where each line is a single column:\n    GCS_FILE_PATH,TIME_SEGMENT_START,TIME_SEGMENT_END\n`GCS_FILE_PATH` is the Google Cloud Storage location of video up to 50GB in\nsize and up to 3h in duration duration.\nSupported extensions: .MOV, .MPEG4, .MP4, .AVI.\n`TIME_SEGMENT_START` and `TIME_SEGMENT_END` must be within the\nlength of the video, and the end time must be after the start time.\nSample rows:\n    gs:\/\/folder\/video1.mp4,10,40\n    gs:\/\/folder\/video1.mp4,20,60\n    gs:\/\/folder\/vid2.mov,0,inf\n<\/section><section><h5>Object Tracking<\/h5>\nOne or more CSV files where each line is a single column:\n    GCS_FILE_PATH,TIME_SEGMENT_START,TIME_SEGMENT_END\n`GCS_FILE_PATH` is the Google Cloud Storage location of video up to 50GB in\nsize and up to 3h in duration duration.\nSupported extensions: .MOV, .MPEG4, .MP4, .AVI.\n`TIME_SEGMENT_START` and `TIME_SEGMENT_END` must be within the\nlength of the video, and the end time must be after the start time.\nSample rows:\n    gs:\/\/folder\/video1.mp4,10,40\n    gs:\/\/folder\/video1.mp4,20,60\n    gs:\/\/folder\/vid2.mov,0,inf\n  <\/section>\n<\/div>\n<h4>AutoML Natural Language<\/h4>\n<div class=\"ds-selector-tabs\"><section><h5>Classification<\/h5>\nOne or more CSV files where each line is a single column:\n    GCS_FILE_PATH\n`GCS_FILE_PATH` is the Google Cloud Storage location of a text file.\nSupported file extensions: .TXT, .PDF, .TIF, .TIFF\nText files can be no larger than 10MB in size.\nSample rows:\n    gs:\/\/folder\/text1.txt\n    gs:\/\/folder\/text2.pdf\n    gs:\/\/folder\/text3.tif\n<\/section><section><h5>Sentiment Analysis<\/h5>\nOne or more CSV files where each line is a single column:\n    GCS_FILE_PATH\n`GCS_FILE_PATH` is the Google Cloud Storage location of a text file.\nSupported file extensions: .TXT, .PDF, .TIF, .TIFF\nText files can be no larger than 128kB in size.\nSample rows:\n    gs:\/\/folder\/text1.txt\n    gs:\/\/folder\/text2.pdf\n    gs:\/\/folder\/text3.tif\n<\/section><section><h5>Entity Extraction<\/h5>\nOne or more JSONL (JSON Lines) files that either provide inline text or\ndocuments. You can only use one format, either inline text or documents,\nfor a single call to [AutoMl.BatchPredict].\nEach JSONL file contains a per line a proto that\nwraps a temporary user-assigned TextSnippet ID (string up to 2000\ncharacters long) called \"id\", a TextSnippet proto (in\nJSON representation) and zero or more TextFeature protos. Any given\ntext snippet content must have 30,000 characters or less, and also\nbe UTF-8 NFC encoded (ASCII already is). The IDs provided should be\nunique.\nEach document JSONL file contains, per line, a proto that wraps a Document\nproto with `input_config` set. Each document cannot exceed 2MB in size.\nSupported document extensions: .PDF, .TIF, .TIFF\nEach JSONL file must not exceed 100MB in size, and no more than 20\nJSONL files may be passed.\nSample inline JSONL file (Shown with artificial line\nbreaks. Actual line breaks are denoted by \"\\n\".):\n    {\n       \"id\": \"my_first_id\",\n       \"text_snippet\": { \"content\": \"dog car cat\"},\n       \"text_features\": [\n         {\n           \"text_segment\": {\"start_offset\": 4, \"end_offset\": 6},\n           \"structural_type\": PARAGRAPH,\n           \"bounding_poly\": {\n             \"normalized_vertices\": [\n               {\"x\": 0.1, \"y\": 0.1},\n               {\"x\": 0.1, \"y\": 0.3},\n               {\"x\": 0.3, \"y\": 0.3},\n               {\"x\": 0.3, \"y\": 0.1},\n             ]\n           },\n         }\n       ],\n     }\\n\n     {\n       \"id\": \"2\",\n       \"text_snippet\": {\n         \"content\": \"Extended sample content\",\n         \"mime_type\": \"text\/plain\"\n       }\n     }\nSample document JSONL file (Shown with artificial line\nbreaks. Actual line breaks are denoted by \"\\n\".):\n     {\n       \"document\": {\n         \"input_config\": {\n           \"gcs_source\": { \"input_uris\": [ \"gs:\/\/folder\/document1.pdf\" ]\n           }\n         }\n       }\n     }\\n\n     {\n       \"document\": {\n         \"input_config\": {\n           \"gcs_source\": { \"input_uris\": [ \"gs:\/\/folder\/document2.tif\" ]\n           }\n         }\n       }\n     }\n  <\/section>\n<\/div>\n<h4>AutoML Tables<\/h4><div class=\"ui-datasection-main\"><section\nclass=\"selected\">\nSee [Preparing your training\ndata](https:\/\/cloud.google.com\/automl-tables\/docs\/predict-batch) for more\ninformation.\nYou can use either\n[gcs_source][google.cloud.automl.v1.BatchPredictInputConfig.gcs_source]\nor\n[bigquery_source][BatchPredictInputConfig.bigquery_source].\n**For gcs_source:**\nCSV file(s), each by itself 10GB or smaller and total size must be\n100GB or smaller, where first file must have a header containing\ncolumn names. If the first row of a subsequent file is the same as\nthe header, then it is also treated as a header. All other rows\ncontain values for the corresponding columns.\nThe column names must contain the model's\n[input_feature_column_specs'][google.cloud.automl.v1.TablesModelMetadata.input_feature_column_specs]\n[display_name-s][google.cloud.automl.v1.ColumnSpec.display_name]\n(order doesn't matter). The columns corresponding to the model's\ninput feature column specs must contain values compatible with the\ncolumn spec's data types. Prediction on all the rows, i.e. the CSV\nlines, will be attempted.\nSample rows from a CSV file:\n<pre>\n\"First Name\",\"Last Name\",\"Dob\",\"Addresses\"\n\"John\",\"Doe\",\"1968-01-22\",\"[{\"status\":\"current\",\"address\":\"123_First_Avenue\",\"city\":\"Seattle\",\"state\":\"WA\",\"zip\":\"11111\",\"numberOfYears\":\"1\"},{\"status\":\"previous\",\"address\":\"456_Main_Street\",\"city\":\"Portland\",\"state\":\"OR\",\"zip\":\"22222\",\"numberOfYears\":\"5\"}]\"\n\"Jane\",\"Doe\",\"1980-10-16\",\"[{\"status\":\"current\",\"address\":\"789_Any_Avenue\",\"city\":\"Albany\",\"state\":\"NY\",\"zip\":\"33333\",\"numberOfYears\":\"2\"},{\"status\":\"previous\",\"address\":\"321_Main_Street\",\"city\":\"Hoboken\",\"state\":\"NJ\",\"zip\":\"44444\",\"numberOfYears\":\"3\"}]}\n<\/pre>\n**For bigquery_source:**\nThe URI of a BigQuery table. The user data size of the BigQuery\ntable must be 100GB or smaller.\nThe column names must contain the model's\n[input_feature_column_specs'][google.cloud.automl.v1.TablesModelMetadata.input_feature_column_specs]\n[display_name-s][google.cloud.automl.v1.ColumnSpec.display_name]\n(order doesn't matter). The columns corresponding to the model's\ninput feature column specs must contain values compatible with the\ncolumn spec's data types. Prediction on all the rows of the table\nwill be attempted.\n  <\/section>\n<\/div>\n**Input field definitions:**\n`GCS_FILE_PATH`\n: The path to a file on Google Cloud Storage. For example,\n  \"gs:\/\/folder\/video.avi\".\n`TIME_SEGMENT_START`\n: (`TIME_OFFSET`)\n  Expresses a beginning, inclusive, of a time segment\n  within an example that has a time dimension\n  (e.g. video).\n`TIME_SEGMENT_END`\n: (`TIME_OFFSET`)\n  Expresses an end, exclusive, of a time segment within\n  n example that has a time dimension (e.g. video).\n`TIME_OFFSET`\n: A number of seconds as measured from the start of an\n  example (e.g. video). Fractions are allowed, up to a\n  microsecond precision. \"inf\" is allowed, and it means the end\n  of the example.\n **Errors:**\n If any of the provided CSV files can't be parsed or if more than certain\n percent of CSV rows cannot be processed then the operation fails and\n prediction does not happen. Regardless of overall success or failure the\n per-row failures, up to a certain count cap, will be listed in\n Operation.metadata.partial_failures.\n\nGenerated from protobuf message <code>google.cloud.automl.v1.BatchPredictInputConfig<\/code>\n\nExtends <a href=\"https:\/\/github.com\/protocolbuffers\/protobuf-php\/tree\/v3.13.0\/src\/Google\/Protobuf\/Internal\/Message.php\" target=\"_blank\">Google\\Protobuf\\Internal\\Message<\/a>","examples":[],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"AutoMl\/src\/V1\/BatchPredictInputConfig.php#L235","description":"<p>Constructor.<\/p>","examples":[],"resources":[],"params":[{"name":"data","description":"<p>Optional. Data for populating the Message object.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null},{"name":"data.gcs_source\n","description":"<p>Required. The Google Cloud Storage location for the input content.<\/p>","types":["<a data-custom-type=\"cloud-automl\/v1.1.2\/automl\/v1\/gcssource\">Google\\Cloud\\AutoMl\\V1\\GcsSource<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[]},{"id":"getGcsSource","type":"instance","name":"getGcsSource","source":"AutoMl\/src\/V1\/BatchPredictInputConfig.php#L246","description":"<p>Required. The Google Cloud Storage location for the input content.<\/p>\n<p>Generated from protobuf field <code>.google.cloud.automl.v1.GcsSource gcs_source = 1 [(.google.api.field_behavior) = REQUIRED];<\/code><\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-automl\/v1.1.2\/automl\/v1\/gcssource\">Google\\Cloud\\AutoMl\\V1\\GcsSource<\/a>"],"description":""}]},{"id":"setGcsSource","type":"instance","name":"setGcsSource","source":"AutoMl\/src\/V1\/BatchPredictInputConfig.php#L258","description":"<p>Required. The Google Cloud Storage location for the input content.<\/p>\n<p>Generated from protobuf field <code>.google.cloud.automl.v1.GcsSource gcs_source = 1 [(.google.api.field_behavior) = REQUIRED];<\/code><\/p>","examples":[],"resources":[],"params":[{"name":"var","description":"<p>Required. The Google Cloud Storage location for the input content.<\/p>\n","types":["<a data-custom-type=\"cloud-automl\/v1.1.2\/automl\/v1\/gcssource\">Google\\Cloud\\AutoMl\\V1\\GcsSource<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-automl\/v1.1.2\/automl\/v1\/batchpredictinputconfig\">Google\\Cloud\\AutoMl\\V1\\BatchPredictInputConfig<\/a>"],"description":""}]},{"id":"getSource","type":"instance","name":"getSource","source":"AutoMl\/src\/V1\/BatchPredictInputConfig.php#L269","description":"","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"description":""}]}]}