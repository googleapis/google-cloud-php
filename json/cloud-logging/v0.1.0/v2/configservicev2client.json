{"id":"logging\/v2\/configservicev2client","type":"","title":"Google\\Cloud\\Logging\\V2\\ConfigServiceV2Client","name":"ConfigServiceV2Client","description":"<p>Service Description: Service for configuring sinks used to export log entries outside of\nStackdriver Logging.<\/p>\n<p>EXPERIMENTAL: this client library class has not yet been declared beta. This class may change\nmore frequently than those which have been declared beta or 1.0, including changes which break\nbackwards compatibility.<\/p>\n<p>This class provides the ability to make remote calls to the backing service through method\ncalls that map to API methods. Sample code to get started:<\/p>\n<pre><code>try {\n    $configServiceV2Client = new ConfigServiceV2Client();\n    $formattedParent = ConfigServiceV2Client::formatProjectName(\"[PROJECT]\");\n    \/\/ Iterate through all elements\n    $pagedResponse = $configServiceV2Client-&gt;listSinks($formattedParent);\n    foreach ($pagedResponse-&gt;iterateAllElements() as $element) {\n        \/\/ doSomethingWith($element);\n    }\n\n    \/\/ OR iterate over pages of elements, with the maximum page size set to 5\n    $pagedResponse = $configServiceV2Client-&gt;listSinks($formattedParent, ['pageSize' =&gt; 5]);\n    foreach ($pagedResponse-&gt;iteratePages() as $page) {\n        foreach ($page as $element) {\n            \/\/ doSomethingWith($element);\n        }\n    }\n} finally {\n    $configServiceV2Client-&gt;close();\n}<\/code><\/pre>\n<p>Many parameters require resource names to be formatted in a particular way. To assist\nwith these names, this class includes a format method for each type of name, and additionally\na parse method to extract the individual identifiers contained within names that are\nreturned.<\/p>","examples":[],"resources":[],"methods":[{"id":"formatProjectName","type":"instance","name":"formatProjectName","source":"src\/Logging\/V2\/ConfigServiceV2Client.php#L124","description":"<p>Formats a string containing the fully-qualified path to represent\na project resource.<\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[]},{"id":"formatSinkName","type":"instance","name":"formatSinkName","source":"src\/Logging\/V2\/ConfigServiceV2Client.php#L135","description":"<p>Formats a string containing the fully-qualified path to represent\na sink resource.<\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[]},{"id":"parseProjectFromProjectName","type":"instance","name":"parseProjectFromProjectName","source":"src\/Logging\/V2\/ConfigServiceV2Client.php#L147","description":"<p>Parses the project from the given fully-qualified path which\nrepresents a project resource.<\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[]},{"id":"parseProjectFromSinkName","type":"instance","name":"parseProjectFromSinkName","source":"src\/Logging\/V2\/ConfigServiceV2Client.php#L156","description":"<p>Parses the project from the given fully-qualified path which\nrepresents a sink resource.<\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[]},{"id":"parseSinkFromSinkName","type":"instance","name":"parseSinkFromSinkName","source":"src\/Logging\/V2\/ConfigServiceV2Client.php#L165","description":"<p>Parses the sink from the given fully-qualified path which\nrepresents a sink resource.<\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[]},{"id":"__construct","type":"constructor","name":"__construct","source":"src\/Logging\/V2\/ConfigServiceV2Client.php#L246","description":"<p>Constructor.<\/p>","examples":[],"resources":[],"params":[{"name":"options","description":"<p>Optional. Options for configuring the service API wrapper.<\/p>","types":["array"],"optional":false,"nullable":null},{"name":"options.serviceAddress","description":"<p>The domain name of the API remote host. Default 'logging.googleapis.com'.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"options.port","description":"<p>The port on which to connect to the remote host. Default 443.<\/p>","types":["mixed"],"optional":null,"nullable":null},{"name":"options.sslCreds\n","description":"<p>A <code>ChannelCredentials<\/code> for use with an SSL-enabled channel. Default: a credentials object returned from \\Grpc\\ChannelCredentials::createSsl()<\/p>","types":["\\Grpc\\ChannelCredentials"],"optional":null,"nullable":null},{"name":"options.scopes","description":"<p>A string array of scopes to use when acquiring credentials. Default the scopes for the Stackdriver Logging API.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.retryingOverride\n","description":"<p>An associative array of string =&gt; RetryOptions, where the keys are method names (e.g. 'createFoo'), that overrides default retrying settings. A value of null indicates that the method in question should not retry.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"options.timeoutMillis","description":"<p>The timeout in milliseconds to use for calls that don't use retries. For calls that use retries, set the timeout in RetryOptions. Default: 30000 (30 seconds)<\/p>","types":["int"],"optional":null,"nullable":null},{"name":"options.credentialsLoader\n","description":"<p>A CredentialsLoader object created using the Google\\Auth library.<\/p>","types":["<a href=\"https:\/\/github.com\/google\/google-auth-library-php\/blob\/master\/src\/CredentialsLoader.php\" target=\"_blank\">Google\\Auth\\CredentialsLoader<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[]},{"id":"listSinks","type":"instance","name":"listSinks","source":"src\/Logging\/V2\/ConfigServiceV2Client.php#L372","description":"<p>Lists sinks.<\/p>\n<p>Sample code:<\/p>\n<pre><code>try {\n    $configServiceV2Client = new ConfigServiceV2Client();\n    $formattedParent = ConfigServiceV2Client::formatProjectName(\"[PROJECT]\");\n    \/\/ Iterate through all elements\n    $pagedResponse = $configServiceV2Client-&gt;listSinks($formattedParent);\n    foreach ($pagedResponse-&gt;iterateAllElements() as $element) {\n        \/\/ doSomethingWith($element);\n    }\n\n    \/\/ OR iterate over pages of elements, with the maximum page size set to 5\n    $pagedResponse = $configServiceV2Client-&gt;listSinks($formattedParent, ['pageSize' =&gt; 5]);\n    foreach ($pagedResponse-&gt;iteratePages() as $page) {\n        foreach ($page as $element) {\n            \/\/ doSomethingWith($element);\n        }\n    }\n} finally {\n    $configServiceV2Client-&gt;close();\n}<\/code><\/pre>","examples":[],"resources":[],"params":[{"name":"parent","description":"<p>Required. The parent resource whose sinks are to be listed.\nExamples: <code>\"projects\/my-logging-project\"<\/code>, <code>\"organizations\/123456789\"<\/code>.<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"optionalArgs","description":"<p>Optional.<\/p>","types":["array"],"optional":false,"nullable":null},{"name":"optionalArgs.pageToken\n","description":"<p>A page token is used to specify a page of values to be returned. If no page token is specified (the default), the first page of values will be returned. Any page token used here must have been generated by a previous call to the API.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"optionalArgs.pageSize\n","description":"<p>The maximum number of resources contained in the underlying API response. The API may return fewer values in a page, even if there are additional values to be retrieved.<\/p>","types":["int"],"optional":null,"nullable":null},{"name":"optionalArgs.retrySettings\n","description":"<p>Retry settings to use for this call. If present, then $timeoutMillis is ignored.<\/p>","types":["<a href=\"https:\/\/github.com\/googleapis\/gax-php\/tree\/master\/src\/RetrySettings.php\" target=\"_blank\">Google\\GAX\\RetrySettings<\/a>"],"optional":null,"nullable":null},{"name":"optionalArgs.timeoutMillis\n","description":"<p>Timeout to use for this call. Only used if $retrySettings is not set.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\GAX\\ApiException","description":"if the remote call fails"}],"returns":[{"types":["<a href=\"https:\/\/github.com\/googleapis\/gax-php\/tree\/master\/src\/PagedListResponse.php\" target=\"_blank\">Google\\GAX\\PagedListResponse<\/a>"],"description":""}]},{"id":"getSink","type":"instance","name":"getSink","source":"src\/Logging\/V2\/ConfigServiceV2Client.php#L434","description":"<p>Gets a sink.<\/p>\n<p>Sample code:<\/p>\n<pre><code>try {\n    $configServiceV2Client = new ConfigServiceV2Client();\n    $formattedSinkName = ConfigServiceV2Client::formatSinkName(\"[PROJECT]\", \"[SINK]\");\n    $response = $configServiceV2Client-&gt;getSink($formattedSinkName);\n} finally {\n    $configServiceV2Client-&gt;close();\n}<\/code><\/pre>","examples":[],"resources":[],"params":[{"name":"sinkName","description":"<p>Required. The parent resource name of the sink:<\/p>\n<pre><code>\"projects\/[PROJECT_ID]\/sinks\/[SINK_ID]\"\n\"organizations\/[ORGANIZATION_ID]\/sinks\/[SINK_ID]\"<\/code><\/pre>\n<p>Example: <code>\"projects\/my-project-id\/sinks\/my-sink-id\"<\/code>.<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"optionalArgs","description":"<p>Optional.<\/p>","types":["array"],"optional":false,"nullable":null},{"name":"optionalArgs.retrySettings\n","description":"<p>Retry settings to use for this call. If present, then $timeoutMillis is ignored.<\/p>","types":["<a href=\"https:\/\/github.com\/googleapis\/gax-php\/tree\/master\/src\/RetrySettings.php\" target=\"_blank\">Google\\GAX\\RetrySettings<\/a>"],"optional":null,"nullable":null},{"name":"optionalArgs.timeoutMillis\n","description":"<p>Timeout to use for this call. Only used if $retrySettings is not set.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\GAX\\ApiException","description":"if the remote call fails"}],"returns":[{"types":["<a href=\"https:\/\/github.com\/googleapis\/proto-client-php\/tree\/master\/src\/logging\/v2\" target=\"_blank\">google\\logging\\v2\\LogSink<\/a>"],"description":""}]},{"id":"createSink","type":"instance","name":"createSink","source":"src\/Logging\/V2\/ConfigServiceV2Client.php#L509","description":"<p>Creates a sink that exports specified log entries to a destination.  The\nexport of newly-ingested log entries begins immediately, unless the current\ntime is outside the sink's start and end times or the sink's\n<code>writer_identity<\/code> is not permitted to write to the destination.  A sink can\nexport log entries only from the resource owning the sink.<\/p>\n<p>Sample code:<\/p>\n<pre><code>try {\n    $configServiceV2Client = new ConfigServiceV2Client();\n    $formattedParent = ConfigServiceV2Client::formatProjectName(\"[PROJECT]\");\n    $sink = new LogSink();\n    $response = $configServiceV2Client-&gt;createSink($formattedParent, $sink);\n} finally {\n    $configServiceV2Client-&gt;close();\n}<\/code><\/pre>","examples":[],"resources":[],"params":[{"name":"parent","description":"<p>Required. The resource in which to create the sink:<\/p>\n<pre><code>\"projects\/[PROJECT_ID]\"\n\"organizations\/[ORGANIZATION_ID]\"<\/code><\/pre>\n<p>Examples: <code>\"projects\/my-logging-project\"<\/code>, <code>\"organizations\/123456789\"<\/code>.<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"sink","description":"<p>Required. The new sink, whose <code>name<\/code> parameter is a sink identifier that\nis not already in use.<\/p>","types":["<a href=\"https:\/\/github.com\/googleapis\/proto-client-php\/tree\/master\/src\/logging\/v2\" target=\"_blank\">google\\logging\\v2\\LogSink<\/a>"],"optional":false,"nullable":null},{"name":"optionalArgs","description":"<p>Optional.<\/p>","types":["array"],"optional":false,"nullable":null},{"name":"optionalArgs.uniqueWriterIdentity\n","description":"<p>Optional. Determines the kind of IAM identity returned as <code>writer_identity<\/code> in the new sink. If this value is omitted or set to false, and if the sink's parent is a project, then the value returned as <code>writer_identity<\/code> is <code>cloud-logs&amp;#64;google.com<\/code>, the same identity used before the addition of writer identities to this API. The sink's destination must be in the same project as the sink itself. If this field is set to true, or if the sink is owned by a non-project resource such as an organization, then the value of <code>writer_identity<\/code> will be a unique service account used only for exports from the new sink. For more information, see <code>writer_identity<\/code> in [LogSink][google.logging.v2.LogSink].<\/p>","types":["bool"],"optional":null,"nullable":null},{"name":"optionalArgs.retrySettings\n","description":"<p>Retry settings to use for this call. If present, then $timeoutMillis is ignored.<\/p>","types":["<a href=\"https:\/\/github.com\/googleapis\/gax-php\/tree\/master\/src\/RetrySettings.php\" target=\"_blank\">Google\\GAX\\RetrySettings<\/a>"],"optional":null,"nullable":null},{"name":"optionalArgs.timeoutMillis\n","description":"<p>Timeout to use for this call. Only used if $retrySettings is not set.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\GAX\\ApiException","description":"if the remote call fails"}],"returns":[{"types":["<a href=\"https:\/\/github.com\/googleapis\/proto-client-php\/tree\/master\/src\/logging\/v2\" target=\"_blank\">google\\logging\\v2\\LogSink<\/a>"],"description":""}]},{"id":"updateSink","type":"instance","name":"updateSink","source":"src\/Logging\/V2\/ConfigServiceV2Client.php#L593","description":"<p>Updates a sink. If the named sink doesn't exist, then this method is\nidentical to\n<a href=\"https:\/\/cloud.google.com\/logging\/docs\/api\/reference\/rest\/v2\/projects.sinks\/create\">sinks.create<\/a>.<\/p>\n<p>If the named sink does exist, then this method replaces the following\nfields in the existing sink with values from the new sink: <code>destination<\/code>,\n<code>filter<\/code>, <code>output_version_format<\/code>, <code>start_time<\/code>, and <code>end_time<\/code>.\nThe updated filter might also have a new <code>writer_identity<\/code>; see the\n<code>unique_writer_identity<\/code> field.<\/p>\n<p>Sample code:<\/p>\n<pre><code>try {\n    $configServiceV2Client = new ConfigServiceV2Client();\n    $formattedSinkName = ConfigServiceV2Client::formatSinkName(\"[PROJECT]\", \"[SINK]\");\n    $sink = new LogSink();\n    $response = $configServiceV2Client-&gt;updateSink($formattedSinkName, $sink);\n} finally {\n    $configServiceV2Client-&gt;close();\n}<\/code><\/pre>","examples":[],"resources":[],"params":[{"name":"sinkName","description":"<p>Required. The full resource name of the sink to update, including the\nparent resource and the sink identifier:<\/p>\n<pre><code>\"projects\/[PROJECT_ID]\/sinks\/[SINK_ID]\"\n\"organizations\/[ORGANIZATION_ID]\/sinks\/[SINK_ID]\"<\/code><\/pre>\n<p>Example: <code>\"projects\/my-project-id\/sinks\/my-sink-id\"<\/code>.<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"sink","description":"<p>Required. The updated sink, whose name is the same identifier that appears\nas part of <code>sink_name<\/code>.  If <code>sink_name<\/code> does not exist, then\nthis method creates a new sink.<\/p>","types":["<a href=\"https:\/\/github.com\/googleapis\/proto-client-php\/tree\/master\/src\/logging\/v2\" target=\"_blank\">google\\logging\\v2\\LogSink<\/a>"],"optional":false,"nullable":null},{"name":"optionalArgs","description":"<p>Optional.<\/p>","types":["array"],"optional":false,"nullable":null},{"name":"optionalArgs.uniqueWriterIdentity\n","description":"<p>Optional. See <a href=\"https:\/\/cloud.google.com\/logging\/docs\/api\/reference\/rest\/v2\/projects.sinks\/create\">sinks.create<\/a> for a description of this field. When updating a sink, the effect of this field on the value of <code>writer_identity<\/code> in the updated sink depends on both the old and new values of this field: + If the old and new values of this field are both false or both true, then there is no change to the sink's <code>writer_identity<\/code>. + If the old value was false and the new value is true, then <code>writer_identity<\/code> is changed to a unique service account. + It is an error if the old value was true and the new value is false.<\/p>","types":["bool"],"optional":null,"nullable":null},{"name":"optionalArgs.retrySettings\n","description":"<p>Retry settings to use for this call. If present, then $timeoutMillis is ignored.<\/p>","types":["<a href=\"https:\/\/github.com\/googleapis\/gax-php\/tree\/master\/src\/RetrySettings.php\" target=\"_blank\">Google\\GAX\\RetrySettings<\/a>"],"optional":null,"nullable":null},{"name":"optionalArgs.timeoutMillis\n","description":"<p>Timeout to use for this call. Only used if $retrySettings is not set.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\GAX\\ApiException","description":"if the remote call fails"}],"returns":[{"types":["<a href=\"https:\/\/github.com\/googleapis\/proto-client-php\/tree\/master\/src\/logging\/v2\" target=\"_blank\">google\\logging\\v2\\LogSink<\/a>"],"description":""}]},{"id":"deleteSink","type":"instance","name":"deleteSink","source":"src\/Logging\/V2\/ConfigServiceV2Client.php#L655","description":"<p>Deletes a sink. If the sink has a unique <code>writer_identity<\/code>, then that\nservice account is also deleted.<\/p>\n<p>Sample code:<\/p>\n<pre><code>try {\n    $configServiceV2Client = new ConfigServiceV2Client();\n    $formattedSinkName = ConfigServiceV2Client::formatSinkName(\"[PROJECT]\", \"[SINK]\");\n    $configServiceV2Client-&gt;deleteSink($formattedSinkName);\n} finally {\n    $configServiceV2Client-&gt;close();\n}<\/code><\/pre>","examples":[],"resources":[],"params":[{"name":"sinkName","description":"<p>Required. The full resource name of the sink to delete, including the\nparent resource and the sink identifier:<\/p>\n<pre><code>\"projects\/[PROJECT_ID]\/sinks\/[SINK_ID]\"\n\"organizations\/[ORGANIZATION_ID]\/sinks\/[SINK_ID]\"<\/code><\/pre>\n<p>It is an error if the sink does not exist.  Example:\n<code>\"projects\/my-project-id\/sinks\/my-sink-id\"<\/code>.  It is an error if\nthe sink does not exist.<\/p>","types":["string"],"optional":false,"nullable":null},{"name":"optionalArgs","description":"<p>Optional.<\/p>","types":["array"],"optional":false,"nullable":null},{"name":"optionalArgs.retrySettings\n","description":"<p>Retry settings to use for this call. If present, then $timeoutMillis is ignored.<\/p>","types":["<a href=\"https:\/\/github.com\/googleapis\/gax-php\/tree\/master\/src\/RetrySettings.php\" target=\"_blank\">Google\\GAX\\RetrySettings<\/a>"],"optional":null,"nullable":null},{"name":"optionalArgs.timeoutMillis\n","description":"<p>Timeout to use for this call. Only used if $retrySettings is not set.<\/p>","types":["int"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\GAX\\ApiException","description":"if the remote call fails"}],"returns":[]},{"id":"close","type":"instance","name":"close","source":"src\/Logging\/V2\/ConfigServiceV2Client.php#L680","description":"<p>Initiates an orderly shutdown in which preexisting calls continue but new\ncalls are immediately cancelled.<\/p>","examples":[],"resources":[],"params":[],"exceptions":[],"returns":[]}]}