{"id":"spanner\/structvalue","type":"","title":"Google\\Cloud\\Spanner\\StructValue","name":"StructValue","description":"<p>Defines a struct parameter value with its fields.<\/p>\n<p>This class is included to provide a fluent interface to build complex struct\nparameter values for your queries against Cloud Spanner. If your struct does\nor may include unnamed fields, or duplicate field names, you must use a\nStructValue. In most cases, however, an associative array may be used.<\/p>\n<p>Please note that query results expressed as structs will not be returned using\nthis class. Query results will always be expressed as a PHP array. This class\nis intended to be used to create complex struct values only.<\/p>\n<p>If your query contains duplicate field names, it must be returned as a name\/value\npair as demonstrated in the example below using <code>Result::RETURN_NAME_VALUE_PAIR<\/code>.<\/p>","examples":[{"caption":"","code":"use Google\\Cloud\\Spanner\\Database;\nuse Google\\Cloud\\Spanner\\SpannerClient;\nuse Google\\Cloud\\Spanner\\Result;\nuse Google\\Cloud\\Spanner\\StructType;\nuse Google\\Cloud\\Spanner\\StructValue;\n\n$spanner = new SpannerClient();\n$database = $spanner->connect('my-instance', 'my-database');\n\n$res = $database->execute('SELECT * FROM UNNEST(ARRAY(SELECT @structParam))', [\n    'parameters' => [\n        'structParam' => (new StructValue)\n            ->add('foo', 'bar')\n            ->add('foo', 2)\n            ->addUnnamed('this field is unnamed')\n    ],\n    'types' => [\n        'structParam' => (new StructType)\n            ->add('foo', Database::TYPE_STRING)\n            ->add('foo', Database::TYPE_INT64)\n            ->addUnnamed(Database::TYPE_STRING)\n    ]\n])->rows(Result::RETURN_NAME_VALUE_PAIR)->current();\n\necho $res[0]['name'] . ': ' . $res[0]['value'] . PHP_EOL; \/\/ \"foo: bar\"\necho $res[1]['name'] . ': ' . $res[1]['value'] . PHP_EOL; \/\/ \"foo: 2\"\necho $res[2]['name'] . ': ' . $res[2]['value'] . PHP_EOL; \/\/ \"2: this field is unnamed\""}],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"Spanner\/src\/StructValue.php#L77","description":"","examples":[],"resources":[],"params":[{"name":"values","description":"<p>An array containing a field value. Each value\nmust be of form <code>[(string|null) $name, mixed $value]<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array[]<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[]},{"id":"add","type":"instance","name":"add","source":"Spanner\/src\/StructValue.php#L102","description":"<p>Add a single value to the struct.<\/p>","examples":[{"caption":"","code":"$structValue->add('firstName', 'John');"}],"resources":[],"params":[{"name":"name","description":"<p>The struct field name.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.null.php\" target=\"_blank\">null<\/a>"],"optional":false,"nullable":null},{"name":"value","description":"<p>The struct field value.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.pseudo-types.php#language.types.mixed\" target=\"_blank\">mixed<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-spanner\/v1.31.0\/spanner\/structvalue\">Google\\Cloud\\Spanner\\StructValue<\/a>"],"description":"<p>The current instance, for chaining additional struct\nvalues.<\/p>"}]},{"id":"addUnnamed","type":"instance","name":"addUnnamed","source":"Spanner\/src\/StructValue.php#L124","description":"<p>Add an unnamed value to the struct.<\/p>","examples":[{"caption":"","code":"$structValue->addUnnamed('John');"}],"resources":[],"params":[{"name":"value","description":"<p>The struct field value.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.pseudo-types.php#language.types.mixed\" target=\"_blank\">mixed<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"cloud-spanner\/v1.31.0\/spanner\/structvalue\">Google\\Cloud\\Spanner\\StructValue<\/a>"],"description":"<p>The current instance, for chaining additional struct\nvalues.<\/p>"}]}]}