{"id":"spanner\/operation","type":"","title":"Google\\Cloud\\Spanner\\Operation","name":"Operation","description":"<p>Common interface for running operations against Cloud Spanner. This class is\nintended for internal use by the client library only. Implementors should\naccess these operations via <a data-custom-type=\"spanner\/database\">Google\\Cloud\\Spanner\\Database<\/a> or\n<a data-custom-type=\"spanner\/transaction\">Google\\Cloud\\Spanner\\Transaction<\/a>.<\/p>\n<p>Usage examples may be found in classes making use of this class:<\/p>\n<ul>\n<li><a data-custom-type=\"spanner\/database\">Google\\Cloud\\Spanner\\Database<\/a><\/li>\n<li><a data-custom-type=\"spanner\/transaction\">Google\\Cloud\\Spanner\\Transaction<\/a><\/li>\n<\/ul>","examples":[],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"Spanner\/src\/Operation.php#L67","description":"","examples":[],"resources":[],"params":[{"name":"connection","description":"<p>A connection to Google Cloud\nSpanner.<\/p>","types":["<a data-custom-type=\"spanner\/connection\/connectioninterface\">Google\\Cloud\\Spanner\\Connection\\ConnectionInterface<\/a>"],"optional":false,"nullable":null},{"name":"returnInt64AsObject","description":"<p>If true, 64 bit integers will be\nreturned as a <a data-custom-type=\"cloud-core\/v1.19.0\/core\/int64\">Google\\Cloud\\Core\\Int64<\/a> object for 32 bit\nplatform compatibility.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[]},{"id":"mutation","type":"instance","name":"mutation","source":"Spanner\/src\/Operation.php#L82","description":"<p>Create a formatted mutation.<\/p>","examples":[],"resources":[],"params":[{"name":"operation","description":"<p>The operation type.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"table","description":"<p>The table name.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"mutation","description":"<p>The mutation data, represented as a set of\nkey\/value pairs.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"description":""}]},{"id":"deleteMutation","type":"instance","name":"deleteMutation","source":"Spanner\/src\/Operation.php#L102","description":"<p>Create a formatted delete mutation.<\/p>","examples":[],"resources":[],"params":[{"name":"table","description":"<p>The table name.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"keySet","description":"<p>The keys to delete.<\/p>","types":["<a data-custom-type=\"spanner\/keyset\">Google\\Cloud\\Spanner\\KeySet<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"description":""}]},{"id":"commit","type":"instance","name":"commit","source":"Spanner\/src\/Operation.php#L125","description":"<p>Commit all enqueued mutations.<\/p>","examples":[],"resources":[],"params":[{"name":"session","description":"<p>The session ID to use for the commit.<\/p>","types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"optional":false,"nullable":null},{"name":"transaction","description":"<p>The transaction to commit.<\/p>","types":["<a data-custom-type=\"spanner\/transaction\">Google\\Cloud\\Spanner\\Transaction<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.transactionId","description":"<p>The ID of the transaction.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/timestamp\">Google\\Cloud\\Spanner\\Timestamp<\/a>"],"description":"<p>The commit Timestamp.<\/p>"}]},{"id":"rollback","type":"instance","name":"rollback","source":"Spanner\/src\/Operation.php#L150","description":"<p>Rollback a Transaction.<\/p>","examples":[],"resources":[],"params":[{"name":"session","description":"<p>The session to use for the rollback.\nNote that the session MUST be the same one in which the\ntransaction was created.<\/p>","types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"optional":false,"nullable":null},{"name":"transactionId","description":"<p>The transaction to roll back.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration Options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.pseudo-types.php#language.types.void\" target=\"_blank\">void<\/a>"],"description":""}]},{"id":"execute","type":"instance","name":"execute","source":"Spanner\/src\/Operation.php#L167","description":"<p>Run a query.<\/p>","examples":[],"resources":[],"params":[{"name":"session","description":"<p>The session to use to execute the SQL.<\/p>","types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"optional":false,"nullable":null},{"name":"sql","description":"<p>The query string.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/result\">Google\\Cloud\\Spanner\\Result<\/a>"],"description":""}]},{"id":"read","type":"instance","name":"read","source":"Spanner\/src\/Operation.php#L212","description":"<p>Lookup rows in a database.<\/p>","examples":[],"resources":[],"params":[{"name":"session","description":"<p>The session in which to read data.<\/p>","types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"optional":false,"nullable":null},{"name":"table","description":"<p>The table name.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"keySet","description":"<p>The KeySet to select rows.<\/p>","types":["<a data-custom-type=\"spanner\/keyset\">Google\\Cloud\\Spanner\\KeySet<\/a>"],"optional":false,"nullable":null},{"name":"columns","description":"<p>A list of column names to return.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration Options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.index","description":"<p>The name of an index on the table.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.offset","description":"<p>The number of rows to offset results by.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"options.limit","description":"<p>The number of results to return.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/result\">Google\\Cloud\\Spanner\\Result<\/a>"],"description":""}]},{"id":"transaction","type":"instance","name":"transaction","source":"Spanner\/src\/Operation.php#L259","description":"<p>Create a read\/write transaction.<\/p>","examples":[],"resources":[{"title":"BeginTransactionRequest","link":"https:\/\/cloud.google.com\/spanner\/reference\/rpc\/google.spanner.v1#google.spanner.v1.BeginTransactionRequest"}],"params":[{"name":"session","description":"<p>The session to start the transaction in.<\/p>","types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration Options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.singleUse","description":"<p>If true, a Transaction ID will not be allocated up front. Instead, the transaction will be considered &quot;single-use&quot;, and may be used for only a single operation. <strong>Defaults to<\/strong> <code>false<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null},{"name":"options.isRetry","description":"<p>If true, the resulting transaction will indicate that it is the result of a retry operation. <strong>Defaults to<\/strong> <code>false<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/transaction\">Google\\Cloud\\Spanner\\Transaction<\/a>"],"description":""}]},{"id":"createTransaction","type":"instance","name":"createTransaction","source":"Spanner\/src\/Operation.php#L283","description":"<p>Create a Transaction instance from a response object.<\/p>","examples":[],"resources":[],"params":[{"name":"session","description":"<p>The session the transaction belongs to.<\/p>","types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"optional":false,"nullable":null},{"name":"res","description":"<p>The createTransaction response.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options","description":"<p>Options for the transaction object.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/transaction\">Google\\Cloud\\Spanner\\Transaction<\/a>"],"description":""}]},{"id":"snapshot","type":"instance","name":"snapshot","source":"Spanner\/src\/Operation.php#L315","description":"<p>Create a read-only snapshot transaction.<\/p>","examples":[],"resources":[{"title":"BeginTransactionRequest","link":"https:\/\/cloud.google.com\/spanner\/reference\/rpc\/google.spanner.v1#google.spanner.v1.BeginTransactionRequest"}],"params":[{"name":"session","description":"<p>The session to start the snapshot in.<\/p>","types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration Options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"options.singleUse","description":"<p>If true, a Transaction ID will not be allocated up front. Instead, the transaction will be considered &quot;single-use&quot;, and may be used for only a single operation. <strong>Defaults to<\/strong> <code>false<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null},{"name":"options.className","description":"<p>If set, an instance of the given class will be instantiated. This setting is intended for internal use. <strong>Defaults to<\/strong> <code>Google\\Cloud\\Spanner\\Snapshot<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/snapshot\">Google\\Cloud\\Spanner\\Snapshot<\/a>"],"description":""}]},{"id":"createSnapshot","type":"instance","name":"createSnapshot","source":"Spanner\/src\/Operation.php#L345","description":"<p>Create a Snapshot instance from a response object.<\/p>","examples":[],"resources":[],"params":[{"name":"session","description":"<p>The session the snapshot belongs to.<\/p>","types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"optional":false,"nullable":null},{"name":"res","description":"<p>The createTransaction response.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null},{"name":"className","description":"<p>The class to instantiate with a\nsnapshot. <strong>Defaults to<\/strong> <code>Google\\Cloud\\Spanner\\Snapshot<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/snapshot\">Google\\Cloud\\Spanner\\Snapshot<\/a>"],"description":""}]},{"id":"createSession","type":"instance","name":"createSession","source":"Spanner\/src\/Operation.php#L369","description":"<p>Create a new session.<\/p>\n<p>Sessions are handled behind the scenes and this method does not need to\nbe called directly.<\/p>","examples":[],"resources":[],"params":[{"name":"databaseName","description":"<p>The database name<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":true,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"description":""}]},{"id":"session","type":"instance","name":"session","source":"Spanner\/src\/Operation.php#L389","description":"<p>Lazily instantiates a session. There are no network requests made at this\npoint. To see the operations that can be performed on a session please\nsee <a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>.<\/p>\n<p>Sessions are handled behind the scenes and this method does not need to\nbe called directly.<\/p>","examples":[],"resources":[],"params":[{"name":"sessionName","description":"<p>The session's name.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"description":""}]},{"id":"partitionQuery","type":"instance","name":"partitionQuery","source":"Spanner\/src\/Operation.php#L438","description":"<p>Begin a partitioned SQL query.<\/p>","examples":[],"resources":[],"params":[{"name":"session","description":"<p>The session to run in.<\/p>","types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"optional":false,"nullable":null},{"name":"transactionId","description":"<p>The transaction to run in.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"sql","description":"<p>The query string to execute.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration Options<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null},{"name":"options.maxPartitions","description":"<p>The desired maximum number of partitions to return. For example, this may be set to the number of workers available. The maximum value is currently 200,000. This is only a hint. The actual number of partitions returned may be smaller than this maximum count request. <strong>Defaults to<\/strong> <code>10000<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"options.partitionSizeBytes","description":"<p>The desired data size for each partition generated. This is only a hint. The actual size of each partition may be smaller or larger than this size request. <strong>Defaults to<\/strong> <code>1000000000<\/code> (i.e. 1 GiB).<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"options.parameters","description":"<p>A key\/value array of Query Parameters, where the key is represented in the query string prefixed by a <code>@<\/code> symbol.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.types","description":"<p>A key\/value array of Query Parameter types. Generally, Google Cloud PHP can infer types. Explicit type definitions are only necessary for null parameter values. Accepted values are defined as constants on <a data-custom-type=\"spanner\/valuemapper\">Google\\Cloud\\Spanner\\ValueMapper<\/a>, and are as follows: <code>Database::TYPE_BOOL<\/code>, <code>Database::TYPE_INT64<\/code>, <code>Database::TYPE_FLOAT64<\/code>, <code>Database::TYPE_TIMESTAMP<\/code>, <code>Database::TYPE_DATE<\/code>, <code>Database::TYPE_STRING<\/code>, <code>Database::TYPE_BYTES<\/code>, <code>Database::TYPE_ARRAY<\/code> and <code>Database::TYPE_STRUCT<\/code>. If the parameter type is an array, the type should be given as an array, where the first element is <code>Database::TYPE_ARRAY<\/code> and the second element is the array type, for instance <code>[Database::TYPE_ARRAY, Database::TYPE_INT64]<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/batch\/querypartition[]\">Google\\Cloud\\Spanner\\Batch\\QueryPartition[]<\/a>"],"description":""}]},{"id":"partitionRead","type":"instance","name":"partitionRead","source":"Spanner\/src\/Operation.php#L492","description":"<p>Begin a partitioned read.<\/p>","examples":[],"resources":[],"params":[{"name":"session","description":"<p>The session to run in.<\/p>","types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"optional":false,"nullable":null},{"name":"transactionId","description":"<p>The transaction to run in.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"table","description":"<p>The table name.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"keySet","description":"<p>The KeySet to select rows.<\/p>","types":["<a data-custom-type=\"spanner\/keyset\">Google\\Cloud\\Spanner\\KeySet<\/a>"],"optional":false,"nullable":null},{"name":"columns","description":"<p>A list of column names to return.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration Options<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null},{"name":"options.maxPartitions","description":"<p>The desired maximum number of partitions to return. For example, this may be set to the number of workers available. The maximum value is currently 200,000. This is only a hint. The actual number of partitions returned may be smaller than this maximum count request. <strong>Defaults to<\/strong> <code>10000<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"options.partitionSizeBytes","description":"<p>The desired data size for each partition generated. This is only a hint. The actual size of each partition may be smaller or larger than this size request. <strong>Defaults to<\/strong> <code>1000000000<\/code> (i.e. 1 GiB).<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null},{"name":"options.index","description":"<p>The name of an index on the table.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/batch\/readpartition[]\">Google\\Cloud\\Spanner\\Batch\\ReadPartition[]<\/a>"],"description":""}]}]}