{"id":"dialogflow\/v2\/sessionsclient","type":"","title":"Google\\Cloud\\Dialogflow\\V2\\SessionsClient","name":"SessionsClient","description":"<p>Service Description: A service used for session interactions.<\/p>\n<p>For more information, see the <a href=\"https:\/\/cloud.google.com\/dialogflow\/docs\/api-overview\">API interactions\nguide<\/a>.<\/p>\n<p>This class provides the ability to make remote calls to the backing service through method\ncalls that map to API methods. Sample code to get started:<\/p>\n<pre><code>$sessionsClient = new SessionsClient();\ntry {\n    $session = '';\n    $queryInput = new QueryInput();\n    $response = $sessionsClient-&gt;detectIntent($session, $queryInput);\n} finally {\n    $sessionsClient-&gt;close();\n}<\/code><\/pre>\n<p>Many parameters require resource names to be formatted in a particular way. To assist\nwith these names, this class includes a format method for each type of name, and additionally\na parseName method to extract the individual identifiers contained within formatted names\nthat are returned by the API.<\/p>\n<p>Extends <a data-custom-type=\"dialogflow\/v2\/gapic\/sessionsgapicclient\">Google\\Cloud\\Dialogflow\\V2\\Gapic\\SessionsGapicClient<\/a><\/p>","examples":[],"resources":[],"methods":[{"id":"projectEnvironmentUserSessionName","type":"instance","name":"projectEnvironmentUserSessionName","source":"Dialogflow\/src\/V2\/Gapic\/SessionsGapicClient.php#L182","description":"<p>Formats a string containing the fully-qualified path to represent\na project_environment_user_session resource.<\/p>\n\nImplemented in <a data-custom-type=\"dialogflow\/v2\/gapic\/sessionsgapicclient\">Google\\Cloud\\Dialogflow\\V2\\Gapic\\SessionsGapicClient<\/a>","examples":[],"resources":[],"params":[{"name":"project","description":"","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"environment","description":"","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"user","description":"","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"session","description":"","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"description":"<p>The formatted project_environment_user_session resource.<\/p>"}]},{"id":"projectSessionName","type":"instance","name":"projectSessionName","source":"Dialogflow\/src\/V2\/Gapic\/SessionsGapicClient.php#L202","description":"<p>Formats a string containing the fully-qualified path to represent\na project_session resource.<\/p>\n\nImplemented in <a data-custom-type=\"dialogflow\/v2\/gapic\/sessionsgapicclient\">Google\\Cloud\\Dialogflow\\V2\\Gapic\\SessionsGapicClient<\/a>","examples":[],"resources":[],"params":[{"name":"project","description":"","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"session","description":"","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"description":"<p>The formatted project_session resource.<\/p>"}]},{"id":"sessionName","type":"instance","name":"sessionName","source":"Dialogflow\/src\/V2\/Gapic\/SessionsGapicClient.php#L220","description":"<p>Formats a string containing the fully-qualified path to represent\na session resource.<\/p>\n\nImplemented in <a data-custom-type=\"dialogflow\/v2\/gapic\/sessionsgapicclient\">Google\\Cloud\\Dialogflow\\V2\\Gapic\\SessionsGapicClient<\/a>","examples":[],"resources":[],"params":[{"name":"project","description":"","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"session","description":"","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"description":"<p>The formatted session resource.<\/p>"}]},{"id":"parseName","type":"instance","name":"parseName","source":"Dialogflow\/src\/V2\/Gapic\/SessionsGapicClient.php#L249","description":"<p>Parses a formatted name string and returns an associative array of the components in the name.<\/p>\n<p>The following name formats are supported:\nTemplate: Pattern<\/p>\n<ul>\n<li>projectEnvironmentUserSession: projects\/{project}\/agent\/environments\/{environment}\/users\/{user}\/sessions\/{session}<\/li>\n<li>projectSession: projects\/{project}\/agent\/sessions\/{session}<\/li>\n<li>session: projects\/{project}\/agent\/sessions\/{session}.<\/li>\n<\/ul>\n<p>The optional $template argument can be supplied to specify a particular pattern, and must\nmatch one of the templates listed above. If no $template argument is provided, or if the\n$template argument does not match one of the templates listed, then parseName will check\neach of the supported templates, and return the first match.<\/p>\n\nImplemented in <a data-custom-type=\"dialogflow\/v2\/gapic\/sessionsgapicclient\">Google\\Cloud\\Dialogflow\\V2\\Gapic\\SessionsGapicClient<\/a>","examples":[],"resources":[],"params":[{"name":"formattedName","description":"<p>The formatted name string<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"template","description":"<p>Optional name of template to match<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null}],"exceptions":[{"type":"\\Google\\ApiCore\\ValidationException","description":"If $formattedName could not be matched."}],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"description":"<p>An associative array from name component IDs to component values.<\/p>"}]},{"id":"__construct","type":"constructor","name":"__construct","source":"Dialogflow\/src\/V2\/Gapic\/SessionsGapicClient.php#L326","description":"<p>Constructor.<\/p>\n\nImplemented in <a data-custom-type=\"dialogflow\/v2\/gapic\/sessionsgapicclient\">Google\\Cloud\\Dialogflow\\V2\\Gapic\\SessionsGapicClient<\/a>","examples":[],"resources":[],"params":[{"name":"options","description":"<p>Optional. Options for configuring the service API wrapper.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null},{"name":"options.serviceAddress\n","description":"<p><strong>Deprecated<\/strong>. This option will be removed in a future major release. Please utilize the <code>$apiEndpoint<\/code> option instead.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.apiEndpoint\n","description":"<p>The address of the API remote host. May optionally include the port, formatted as &quot;<uri>:<port>&quot;. Default 'dialogflow.googleapis.com:443'.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"options.credentials\n","description":"<p>The credentials to be used by the client to authorize API calls. This option accepts either a path to a credentials file, or a decoded credentials file as a PHP array. <em>Advanced usage<\/em>: In addition, this option can also accept a pre-constructed <a href=\"https:\/\/github.com\/googleapis\/google-auth-library-php\/tree\/v1.12.0\/src\/FetchAuthTokenInterface.php\" target=\"_blank\">Google\\Auth\\FetchAuthTokenInterface<\/a> object or <a href=\"https:\/\/googleapis.github.io\/gax-php\/1.3.1\/Google\/ApiCore\/CredentialsWrapper.html\" target=\"_blank\">Google\\ApiCore\\CredentialsWrapper<\/a> object. Note that when one of these objects are provided, any settings in $credentialsConfig will be ignored.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>","<a href=\"https:\/\/github.com\/googleapis\/google-auth-library-php\/tree\/v1.12.0\/src\/FetchAuthTokenInterface.php\" target=\"_blank\">Google\\Auth\\FetchAuthTokenInterface<\/a>","<a href=\"https:\/\/googleapis.github.io\/gax-php\/1.3.1\/Google\/ApiCore\/CredentialsWrapper.html\" target=\"_blank\">Google\\ApiCore\\CredentialsWrapper<\/a>"],"optional":null,"nullable":null},{"name":"options.credentialsConfig\n","description":"<p>Options used to configure credentials, including auth token caching, for the client. For a full list of supporting configuration options, see <a href=\"https:\/\/googleapis.github.io\/gax-php\/1.3.1\/Google\/ApiCore\/CredentialsWrapper.html\" target=\"_blank\">Google\\ApiCore\\CredentialsWrapper::build()<\/a>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.disableRetries\n","description":"<p>Determines whether or not retries defined by the client configuration should be disabled. Defaults to <code>false<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":null,"nullable":null},{"name":"options.clientConfig\n","description":"<p>Client method configuration, including retry settings. This option can be either a path to a JSON file, or a PHP array containing the decoded JSON data. By default this settings points to the default client config file, which is provided in the resources folder.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null},{"name":"options.transport\n","description":"<p>The transport used for executing network requests. May be either the string <code>rest<\/code> or <code>grpc<\/code>. Defaults to <code>grpc<\/code> if gRPC support is detected on the system. <em>Advanced usage<\/em>: Additionally, it is possible to pass in an already instantiated <a href=\"https:\/\/googleapis.github.io\/gax-php\/1.3.1\/Google\/ApiCore\/Transport\/TransportInterface.html\" target=\"_blank\">Google\\ApiCore\\Transport\\TransportInterface<\/a> object. Note that when this object is provided, any settings in $transportConfig, and any <code>$apiEndpoint<\/code> setting, will be ignored.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>","<a href=\"https:\/\/googleapis.github.io\/gax-php\/1.3.1\/Google\/ApiCore\/Transport\/TransportInterface.html\" target=\"_blank\">Google\\ApiCore\\Transport\\TransportInterface<\/a>"],"optional":null,"nullable":null},{"name":"options.transportConfig\n","description":"<p>Configuration options that will be used to construct the transport. Options for each supported transport type should be passed in a key for that transport. For example: $transportConfig = [ 'grpc' =&gt; [...], 'rest' =&gt; [...] ]; See the <a href=\"https:\/\/googleapis.github.io\/gax-php\/1.3.1\/Google\/ApiCore\/Transport\/GrpcTransport.html\" target=\"_blank\">Google\\ApiCore\\Transport\\GrpcTransport::build()<\/a> and <a href=\"https:\/\/googleapis.github.io\/gax-php\/1.3.1\/Google\/ApiCore\/Transport\/RestTransport.html\" target=\"_blank\">Google\\ApiCore\\Transport\\RestTransport::build()<\/a> methods for the supported options.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\ApiCore\\ValidationException","description":""}],"returns":[]},{"id":"detectIntent","type":"instance","name":"detectIntent","source":"Dialogflow\/src\/V2\/Gapic\/SessionsGapicClient.php#L402","description":"<p>Processes a natural language query and returns structured, actionable data\nas a result. This method is not idempotent, because it may cause contexts\nand session entity types to be updated, which in turn might affect\nresults of future queries.<\/p>\n<p>Sample code:<\/p>\n<pre><code>$sessionsClient = new SessionsClient();\ntry {\n    $session = '';\n    $queryInput = new QueryInput();\n    $response = $sessionsClient-&gt;detectIntent($session, $queryInput);\n} finally {\n    $sessionsClient-&gt;close();\n}<\/code><\/pre>\n\nImplemented in <a data-custom-type=\"dialogflow\/v2\/gapic\/sessionsgapicclient\">Google\\Cloud\\Dialogflow\\V2\\Gapic\\SessionsGapicClient<\/a>","examples":[],"resources":[],"params":[{"name":"session","description":"<p>Required. The name of the session this query is sent to. Format:\n<code>projects\/&lt;Project ID&gt;\/agent\/sessions\/&lt;Session ID&gt;<\/code>, or\n<code>projects\/&lt;Project ID&gt;\/agent\/environments\/&lt;Environment ID&gt;\/users\/&lt;User ID&gt;\/sessions\/&lt;Session ID&gt;<\/code>. If <code>Environment ID<\/code> is not specified, we assume\ndefault 'draft' environment. If <code>User ID<\/code> is not specified, we are using\n&quot;-&quot;. It's up to the API caller to choose an appropriate <code>Session ID<\/code> and\n<code>User Id<\/code>. They can be a random number or some type of user and session\nidentifiers (preferably hashed). The length of the <code>Session ID<\/code> and\n<code>User ID<\/code> must not exceed 36 characters.<\/p>\n<p>For more information, see the <a href=\"https:\/\/cloud.google.com\/dialogflow\/docs\/api-overview\">API interactions\nguide<\/a>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"queryInput","description":"<p>Required. The input specification. It can be set to:<\/p>\n<ol>\n<li>\n<p>an audio config\nwhich instructs the speech recognizer how to process the speech audio,<\/p>\n<\/li>\n<li>\n<p>a conversational query in the form of text, or<\/p>\n<\/li>\n<li>\n<p>an event that specifies which intent to trigger.<\/p>\n<\/li>\n<\/ol>","types":["<a data-custom-type=\"dialogflow\/v2\/queryinput\">Google\\Cloud\\Dialogflow\\V2\\QueryInput<\/a>"],"optional":false,"nullable":null},{"name":"optionalArgs","description":"<p>Optional.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null},{"name":"optionalArgs.queryParams\n","description":"<p>The parameters of this query.<\/p>","types":["<a data-custom-type=\"dialogflow\/v2\/queryparameters\">Google\\Cloud\\Dialogflow\\V2\\QueryParameters<\/a>"],"optional":null,"nullable":null},{"name":"optionalArgs.outputAudioConfig\n","description":"<p>Instructs the speech synthesizer how to generate the output audio. If this field is not set and agent-level speech synthesizer is not configured, no output audio is generated.<\/p>","types":["<a data-custom-type=\"dialogflow\/v2\/outputaudioconfig\">Google\\Cloud\\Dialogflow\\V2\\OutputAudioConfig<\/a>"],"optional":null,"nullable":null},{"name":"optionalArgs.outputAudioConfigMask\n","description":"<p>Mask for [output_audio_config][google.cloud.dialogflow.v2.DetectIntentRequest.output_audio_config] indicating which settings in this request-level config should override speech synthesizer settings defined at agent-level. If unspecified or empty, [output_audio_config][google.cloud.dialogflow.v2.DetectIntentRequest.output_audio_config] replaces the agent-level config in its entirety.<\/p>","types":["<a href=\"https:\/\/github.com\/protocolbuffers\/protobuf-php\/tree\/v3.13.0\/src\/Google\/Protobuf\/FieldMask.php\" target=\"_blank\">Google\\Protobuf\\FieldMask<\/a>"],"optional":null,"nullable":null},{"name":"optionalArgs.inputAudio\n","description":"<p>The natural language speech audio to be processed. This field should be populated iff <code>query_input<\/code> is set to an input audio config. A single request can contain up to 1 minute of speech audio data.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":null,"nullable":null},{"name":"optionalArgs.retrySettings\n","description":"<p>Retry settings to use for this call. Can be a <a href=\"https:\/\/googleapis.github.io\/gax-php\/1.3.1\/Google\/ApiCore\/RetrySettings.html\" target=\"_blank\">Google\\ApiCore\\RetrySettings<\/a> object, or an associative array of retry settings parameters. See the documentation on <a href=\"https:\/\/googleapis.github.io\/gax-php\/1.3.1\/Google\/ApiCore\/RetrySettings.html\" target=\"_blank\">Google\\ApiCore\\RetrySettings<\/a> for example usage.<\/p>","types":["<a href=\"https:\/\/googleapis.github.io\/gax-php\/1.3.1\/Google\/ApiCore\/RetrySettings.html\" target=\"_blank\">Google\\ApiCore\\RetrySettings<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\ApiCore\\ApiException","description":"if the remote call fails"}],"returns":[{"types":["<a data-custom-type=\"dialogflow\/v2\/detectintentresponse\">Google\\Cloud\\Dialogflow\\V2\\DetectIntentResponse<\/a>"],"description":""}]},{"id":"streamingDetectIntent","type":"instance","name":"streamingDetectIntent","source":"Dialogflow\/src\/V2\/Gapic\/SessionsGapicClient.php#L495","description":"<p>Processes a natural language query in audio format in a streaming fashion\nand returns structured, actionable data as a result. This method is only\navailable via the gRPC API (not REST).<\/p>\n<p>Sample code:<\/p>\n<pre><code>$sessionsClient = new SessionsClient();\ntry {\n    $session = '';\n    $queryInput = new QueryInput();\n    $request = new StreamingDetectIntentRequest();\n    $request-&gt;setSession($session);\n    $request-&gt;setQueryInput($queryInput);\n    \/\/ Write all requests to the server, then read all responses until the\n    \/\/ stream is complete\n    $requests = [$request];\n    $stream = $sessionsClient-&gt;streamingDetectIntent();\n    $stream-&gt;writeAll($requests);\n    foreach ($stream-&gt;closeWriteAndReadAll() as $element) {\n        \/\/ doSomethingWith($element);\n    }\n\n    \/\/ Alternatively:\n\n    \/\/ Write requests individually, making read() calls if\n    \/\/ required. Call closeWrite() once writes are complete, and read the\n    \/\/ remaining responses from the server.\n    $requests = [$request];\n    $stream = $sessionsClient-&gt;streamingDetectIntent();\n    foreach ($requests as $request) {\n        $stream-&gt;write($request);\n        \/\/ if required, read a single response from the stream\n        $element = $stream-&gt;read();\n        \/\/ doSomethingWith($element)\n    }\n    $stream-&gt;closeWrite();\n    $element = $stream-&gt;read();\n    while (!is_null($element)) {\n        \/\/ doSomethingWith($element)\n        $element = $stream-&gt;read();\n    }\n} finally {\n    $sessionsClient-&gt;close();\n}<\/code><\/pre>\n\nImplemented in <a data-custom-type=\"dialogflow\/v2\/gapic\/sessionsgapicclient\">Google\\Cloud\\Dialogflow\\V2\\Gapic\\SessionsGapicClient<\/a>","examples":[],"resources":[],"params":[{"name":"optionalArgs","description":"<p>Optional.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null},{"name":"optionalArgs.timeoutMillis\n","description":"<p>Timeout to use for this call.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\ApiCore\\ApiException","description":"if the remote call fails"}],"returns":[{"types":["<a href=\"https:\/\/googleapis.github.io\/gax-php\/1.3.1\/Google\/ApiCore\/BidiStream.html\" target=\"_blank\">Google\\ApiCore\\BidiStream<\/a>"],"description":""}]}]}