{"id":"vision\/visionclient","type":"","title":"Google\\Cloud\\Vision\\VisionClient","name":"VisionClient","description":"<p>Google Cloud Vision client. Allows you to understand the content of an image,\nclassify images into categories, detect text, objects, faces and more. Find\nmore information at\n<a href=\"https:\/\/cloud.google.com\/vision\/docs\/\">Google Cloud Vision docs<\/a>.<\/p>","examples":[{"caption":"","code":"use Google\\Cloud\\ServiceBuilder;\n\n$cloud = new ServiceBuilder();\n\n$vision = $cloud->vision();"},{"caption":"<p>VisionClient can be instantiated directly.<\/p>","code":"use Google\\Cloud\\Vision\\VisionClient;\n\n$vision = new VisionClient();"}],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"\/src\/Vision\/VisionClient.php#L86","description":"<p>Create a Vision client.<\/p>","examples":[],"resources":[],"params":[{"name":"config","description":"<p>Configuration Options.<\/p>","types":["array"],"optional":true,"nullable":null},{"name":"config.projectId","description":"<p>The project ID from the Google Developer's Console.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"config.authCache","description":"<p>A cache for storing access tokens. <strong>Defaults to<\/strong> a simple in memory implementation.<\/p>","types":["CacheItemPoolInterface"],"optional":null,"nullable":null},{"name":"config.authCacheOptions","description":"<p>Cache configuration options.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"config.authHttpHandler","description":"<p>A handler used to deliver Psr7 requests specifically for authentication.<\/p>","types":["callable"],"optional":null,"nullable":null},{"name":"config.httpHandler","description":"<p>A handler used to deliver Psr7 requests.<\/p>","types":["callable"],"optional":null,"nullable":null},{"name":"config.keyFile","description":"<p>The contents of the service account credentials .json file retrieved from the Google Developer's Console. Ex: <code>json_decode(file_get_contents($path), true)<\/code>.<\/p>","types":["array"],"optional":null,"nullable":null},{"name":"config.keyFilePath","description":"<p>The full path to your service account credentials .json file retrieved from the Google Developers Console.<\/p>","types":["string"],"optional":null,"nullable":null},{"name":"config.retries","description":"<p>Number of retries for a failed request. <strong>Defaults to<\/strong> <code>3<\/code>.<\/p>","types":["int"],"optional":null,"nullable":null},{"name":"config.scopes","description":"<p>Scopes to be used for the request.<\/p>","types":["array"],"optional":null,"nullable":null}],"exceptions":[{"type":"\\Google\\Cloud\\Vision\\Google\\Cloud\\Exception\\GoogleException","description":""}],"returns":[]},{"id":"image","type":"instance","name":"image","source":"\/src\/Vision\/VisionClient.php#L146","description":"<p>Create an instance of <a data-custom-type=\"vision\/image\">Google\\Cloud\\Vision\\Image<\/a> with required features and options.<\/p>\n<p>This method should be used to configure a single image, or when a set of\nimages requires different settings for each member of the set. If you\nhave a set of images which all will use the same settings,\n<a data-custom-type=\"vision\/visionclient\" data-method=\"images\">Google\\Cloud\\Vision\\VisionClient::images()<\/a> may be quicker and\nsimpler to use.<\/p>\n<p>This method will not perform any service requests, and is meant to be\nused to configure a request prior to calling\n<a data-custom-type=\"vision\/visionclient\" data-method=\"annotate\">Google\\Cloud\\Vision\\VisionClient::annotate()<\/a>.<\/p>\n<p>For more information, including best practices and examples detailing\nother usage such as <code>$imageContext<\/code>, see <a data-custom-type=\"vision\/image\" data-method=\"__construct\">Google\\Cloud\\Vision\\Image::__construct()<\/a>.<\/p>","examples":[{"caption":"","code":"$imageResource = fopen(__DIR__ .'\/assets\/family-photo.jpg', 'r');\n\n$image = $vision->image($imageResource, [\n    'FACE_DETECTION'\n]);"},{"caption":"<p>Setting maxResults for a feature<\/p>","code":"$imageResource = fopen(__DIR__ .'\/assets\/family-photo.jpg', 'r');\n\n$image = $vision->image($imageResource, [\n    'FACE_DETECTION'\n], [\n    'maxResults' => [\n        'FACE_DETECTION' => 1\n    ]\n]);"}],"resources":[],"params":[{"name":"image","description":"<p>An image to configure with\nthe given settings. This parameter will accept a resource, a\nstring of bytes, or an instance of\n<a data-custom-type=\"storage\/storageobject\">Google\\Cloud\\Storage\\StorageObject<\/a>.<\/p>","types":["resource","string","<a data-custom-type=\"vision\/storageobject\">Google\\Cloud\\Vision\\StorageObject<\/a>"],"optional":false,"nullable":null},{"name":"features","description":"<p>A list of cloud vision\n<a href=\"https:\/\/cloud.google.com\/vision\/reference\/rest\/v1\/images\/annotate#type\">features<\/a>\nto apply to the image.<\/p>","types":["array"],"optional":false,"nullable":null},{"name":"options","description":"<p>See <a data-custom-type=\"vision\/image\" data-method=\"__construct\">Google\\Cloud\\Vision\\Image::__construct()<\/a> for\nconfiguration details.<\/p>","types":["array"],"optional":false,"nullable":null}],"exceptions":[{"type":"\\InvalidArgumentException","description":""}],"returns":[{"types":["<a data-custom-type=\"vision\/image\">Google\\Cloud\\Vision\\Image<\/a>"],"description":""}]},{"id":"images","type":"instance","name":"images","source":"\/src\/Vision\/VisionClient.php#L194","description":"<p>Create an array of type <a data-custom-type=\"vision\/image\">Google\\Cloud\\Vision\\Image<\/a> with required features and options set for\neach member of the set.<\/p>\n<p>This method is useful for quickly configuring every member of a set of\nimages with the same features and options. Should you need to provide\ndifferent features or options for one or more members of the set,\n<a data-custom-type=\"vision\/visionclient\" data-method=\"image\">Google\\Cloud\\Vision\\VisionClient::image()<\/a> is a better choice.<\/p>\n<p>This method will not perform any service requests, and is meant to be\nused to configure a request prior to calling\n<a data-custom-type=\"vision\/visionclient\" data-method=\"annotateBatch\">Google\\Cloud\\Vision\\VisionClient::annotateBatch()<\/a>.<\/p>\n<p>For more information, including best practices and examples detailing\nother usage such as <code>$imageContext<\/code>, see <a data-custom-type=\"vision\/image\" data-method=\"__construct\">Google\\Cloud\\Vision\\Image::__construct()<\/a>.<\/p>","examples":[{"caption":"<p>In the example below, both images will have the same settings applied. They will both run face detection and return up to 10 results.<\/p>","code":"$familyPhotoResource = fopen(__DIR__ .'\/assets\/family-photo.jpg', 'r');\n$weddingPhotoResource = fopen(__DIR__ .'\/assets\/wedding-photo.jpg', 'r');\n\n$images = $vision->images([$familyPhotoResource, $weddingPhotoResource], [\n    'FACE_DETECTION'\n], [\n    'maxResults' => [\n        'FACE_DETECTION' => 10\n    ]\n]);"}],"resources":[],"params":[{"name":"images","description":"<p>An array of images\nto configure with the given settings. Each member of the set can\nbe a resource, a string of bytes, or an instance of\n<a data-custom-type=\"storage\/storageobject\">Google\\Cloud\\Storage\\StorageObject<\/a>.<\/p>","types":["resource[]","string[]","<a data-custom-type=\"vision\/storageobject[]\">Google\\Cloud\\Vision\\StorageObject[]<\/a>"],"optional":false,"nullable":null},{"name":"features","description":"<p>A list of cloud vision features to apply to each image.<\/p>","types":["array"],"optional":false,"nullable":null},{"name":"options","description":"<p>See <a data-custom-type=\"vision\/image\" data-method=\"__construct\">Google\\Cloud\\Vision\\Image::__construct()<\/a> for\nconfiguration details.<\/p>","types":["array"],"optional":false,"nullable":null}],"exceptions":[{"type":"\\InvalidArgumentException","description":""}],"returns":[{"types":["<a data-custom-type=\"vision\/image[]\">Google\\Cloud\\Vision\\Image[]<\/a>"],"description":""}]},{"id":"annotate","type":"instance","name":"annotate","source":"\/src\/Vision\/VisionClient.php#L222","description":"<p>Annotate a single image.<\/p>","examples":[{"caption":"","code":"$familyPhotoResource = fopen(__DIR__ .'\/assets\/family-photo.jpg', 'r');\n\n$image = $vision->image($familyPhotoResource, [\n    'FACE_DETECTION'\n]);\n\n$result = $vision->annotate($image);"}],"resources":[],"params":[{"name":"image","description":"<p>The image to annotate<\/p>","types":["<a data-custom-type=\"vision\/image\">Google\\Cloud\\Vision\\Image<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration options<\/p>","types":["array"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"vision\/annotation\">Google\\Cloud\\Vision\\Annotation<\/a>"],"description":""}]},{"id":"annotateBatch","type":"instance","name":"annotateBatch","source":"\/src\/Vision\/VisionClient.php#L254","description":"<p>Annotate a set of images.<\/p>","examples":[{"caption":"","code":"$images = [];\n\n$familyPhotoResource = fopen(__DIR__ .'\/assets\/family-photo.jpg', 'r');\n$eiffelTowerResource = fopen(__DIR__ .'\/assets\/eiffel-tower.jpg', 'r');\n\n$images[] = $vision->image($familyPhotoResource, [\n    'FACE_DETECTION'\n]);\n\n$images[] = $vision->image($eiffelTowerResource, [\n    'LANDMARK_DETECTION'\n]);\n\n$result = $vision->annotateBatch($images);"}],"resources":[],"params":[{"name":"images","description":"<p>An array consisting of instances of\n<a data-custom-type=\"vision\/image\">Google\\Cloud\\Vision\\Image<\/a>.<\/p>","types":["<a data-custom-type=\"vision\/image[]\">Google\\Cloud\\Vision\\Image[]<\/a>"],"optional":false,"nullable":null},{"name":"options","description":"<p>Configuration Options<\/p>","types":["array"],"optional":false,"nullable":null}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"vision\/annotation[]\">Google\\Cloud\\Vision\\Annotation[]<\/a>"],"description":""}]}]}